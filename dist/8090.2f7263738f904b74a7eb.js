(()=>{"use strict";var e,t,n={98090:(e,t,n)=>{var s={};n.r(s),n.d(s,{Type:()=>zt,clear:()=>Kt,fetch:()=>Wt,remove:()=>Jt,save:()=>jt});var i={};n.r(i),n.d(i,{acceptBotUrlAuth:()=>ma,acceptCall:()=>Fa,acceptLinkUrlAuth:()=>Aa,acceptPhoneCall:()=>Ar,addChatMembers:()=>Yn,answerCallbackButton:()=>na,blockContact:()=>ho,changeSessionSettings:()=>Za,changeSessionTtl:()=>Xa,checkChatUsername:()=>Ui,checkPassword:()=>Qi,checkUsername:()=>ao,clearDraft:()=>yn,clearPassword:()=>Yi,clearRecentStickers:()=>wi,closePoll:()=>Us,confirmCall:()=>qa,confirmPhoneCall:()=>gr,createChannel:()=>In,createGroupCall:()=>Da,createGroupChat:()=>kn,createPhoneCallState:()=>pr,decodePhoneCallData:()=>mr,deleteChannel:()=>Pn,deleteChat:()=>Cn,deleteChatFolder:()=>Nn,deleteChatMember:()=>Zn,deleteChatUser:()=>bn,deleteContact:()=>ci,deleteExportedChatInvite:()=>Fi,deleteHistory:()=>Ss,deleteMessages:()=>vs,deleteRevokedExportedChatInvites:()=>qi,deleteScheduledMessages:()=>Is,destroy:()=>en,destroyPhoneCallState:()=>hr,discardCall:()=>Na,discardGroupCall:()=>Sa,disconnect:()=>tn,downloadMedia:()=>an,editChatFolder:()=>Tn,editChatPhoto:()=>Bn,editExportedChatInvite:()=>Gi,editGroupCallParticipant:()=>ba,editGroupCallTitle:()=>Ca,editMessage:()=>gs,encodePhoneCallData:()=>fr,exportChatInvite:()=>Ei,exportGroupCallInvite:()=>Ma,faveSticker:()=>gi,fetchAnimatedEmojiEffects:()=>Ii,fetchAnimatedEmojis:()=>vi,fetchAppConfig:()=>xo,fetchAuthorizations:()=>mo,fetchBlockedContacts:()=>po,fetchChannelStatistics:()=>Qo,fetchChat:()=>gn,fetchChatFolders:()=>Hn,fetchChatInviteImporters:()=>Oi,fetchChatSettings:()=>fn,fetchChats:()=>pn,fetchCommonChats:()=>ti,fetchContactList:()=>ii,fetchContentSettings:()=>To,fetchCountryList:()=>Eo,fetchCurrentUser:()=>cn,fetchEmojiKeywords:()=>Di,fetchExportedChatInvites:()=>xi,fetchFavoriteStickers:()=>fi,fetchFeaturedStickers:()=>mi,fetchFullChat:()=>hn,fetchFullUser:()=>ei,fetchGlobalPrivacySettings:()=>Fo,fetchGroupCallParticipants:()=>Pa,fetchGroupStatistics:()=>Yo,fetchGroupsForDiscussion:()=>Jn,fetchInlineBot:()=>ia,fetchInlineBotResults:()=>aa,fetchLangPack:()=>Po,fetchLangStrings:()=>ko,fetchLanguages:()=>Mo,fetchMembers:()=>jn,fetchMessage:()=>ls,fetchMessagePublicForwards:()=>Xo,fetchMessageReactions:()=>zo,fetchMessageReactionsList:()=>Wo,fetchMessageStatistics:()=>Zo,fetchMessages:()=>ds,fetchNearestCountry:()=>ni,fetchNotificationExceptions:()=>Io,fetchNotificationSettings:()=>So,fetchPinnedMessages:()=>qs,fetchPremiumPromo:()=>$a,fetchPrivacySettings:()=>Bo,fetchProfilePhotos:()=>ui,fetchRecentStickers:()=>hi,fetchRecommendedChatFolders:()=>Un,fetchSavedGifs:()=>bi,fetchScheduledHistory:()=>Gs,fetchSeenBy:()=>Os,fetchSendAs:()=>_s,fetchSponsoredMessages:()=>Vs,fetchStatisticsAsyncGraph:()=>er,fetchStickerSets:()=>pi,fetchStickers:()=>yi,fetchStickersForEmoji:()=>Bi,fetchTopInlineBots:()=>sa,fetchTopUsers:()=>si,fetchUnreadMentions:()=>Js,fetchUnreadReactions:()=>Ks,fetchUsers:()=>ai,fetchWallpapers:()=>uo,fetchWebAuthorizations:()=>wo,fetchWebPagePreview:()=>Rs,findFirstMessageIdAfterDate:()=>xs,forwardMessages:()=>Ns,getAvailableReactions:()=>Lo,getChatByPhoneNumber:()=>Gn,getChatByUsername:()=>En,getDhConfig:()=>Ta,getGroupCall:()=>Ia,getPasswordInfo:()=>Ki,getPaymentForm:()=>Ja,getReceipt:()=>Ka,hideAllChatJoinRequests:()=>Li,hideChatJoinRequest:()=>_i,hideChatReportPanel:()=>Vi,importChatInvite:()=>ss,importContact:()=>oi,installStickerSet:()=>Mi,joinChannel:()=>Sn,joinGroupCall:()=>Ba,joinGroupCallPresentation:()=>Ra,leaveChannel:()=>Mn,leaveGroupCall:()=>ka,leaveGroupCallPresentation:()=>Ua,loadAttachMenuBots:()=>pa,loadPollOptionResults:()=>Ts,markMessageListRead:()=>Ms,markMessagesRead:()=>Ps,migrateChat:()=>$n,openChatByInvite:()=>Qn,pinMessage:()=>ws,prolongWebView:()=>da,provideAuthCode:()=>Et,provideAuthPassword:()=>Ft,provideAuthPhoneNumber:()=>Gt,provideAuthRegistration:()=>qt,provideRecoveryEmailCode:()=>ea,readAllMentions:()=>Ws,readAllReactions:()=>js,receivedCall:()=>Ea,registerDevice:()=>Do,removeRecentSticker:()=>Ai,repairFileReference:()=>un,reportMessages:()=>bs,reportPeer:()=>Qa,reportProfilePhoto:()=>Ya,reportSpam:()=>di,requestBotUrlAuth:()=>fa,requestCall:()=>xa,requestChatUpdate:()=>An,requestLinkUrlAuth:()=>ga,requestPhoneCall:()=>wr,requestSimpleWebView:()=>ua,requestThreadInfoUpdate:()=>ks,requestWebView:()=>ca,rescheduleMessage:()=>As,restartAuth:()=>Ot,restartAuthWithQr:()=>_t,saveDefaultSendAs:()=>Ls,saveDraft:()=>wn,saveGif:()=>Ci,searchChats:()=>mn,searchGifs:()=>ki,searchMessagesGlobal:()=>Ds,searchMessagesLocal:()=>Bs,searchStickers:()=>Si,sendEmojiInteraction:()=>_o,sendInlineBotResult:()=>oa,sendMessage:()=>hs,sendMessageAction:()=>Cs,sendPaymentForm:()=>ja,sendPollVote:()=>Hs,sendReaction:()=>Vo,sendScheduledMessages:()=>Es,sendSignalingData:()=>Oa,sendWatchingEmojiInteraction:()=>Oo,sendWebViewData:()=>la,setCallRating:()=>Ga,setChatEnabledReactions:()=>is,setChatUsername:()=>Ti,setDefaultReaction:()=>jo,setDiscussionGroup:()=>Kn,setPrivacySettings:()=>Ho,startBot:()=>ra,switchAccount:()=>nn,terminateAllAuthorizations:()=>Ao,terminateAllWebAuthorizations:()=>vo,terminateAuthorization:()=>go,terminateWebAuthorization:()=>yo,toggleBotInAttachMenu:()=>ha,toggleChatArchived:()=>Rn,toggleChatPinned:()=>Dn,toggleDialogUnread:()=>xn,toggleGroupCallStartSubscription:()=>Ha,toggleIsProtected:()=>as,toggleJoinRequest:()=>es,toggleJoinToSend:()=>Xn,togglePreHistoryHidden:()=>qn,toggleSignatures:()=>Wn,transcribeAudio:()=>$s,unblockContact:()=>fo,uninstallStickerSet:()=>Pi,unpinAllMessages:()=>ys,unregisterDevice:()=>Ro,updateChatAbout:()=>zn,updateChatAdmin:()=>Ln,updateChatDefaultBannedRights:()=>On,updateChatMemberBannedRights:()=>_n,updateChatMutedState:()=>vn,updateChatTitle:()=>Vn,updateContact:()=>ri,updateContactSignUpNotification:()=>bo,updateContentSettings:()=>No,updateGlobalPrivacySettings:()=>qo,updateIsOnline:()=>Uo,updateMessageState:()=>fs,updateNotificationSettings:()=>Co,updatePassword:()=>Zi,updatePrivateLink:()=>Ni,updateProfile:()=>io,updateProfilePhoto:()=>ro,updateRecoveryEmail:()=>Xi,updateUsername:()=>oo,uploadProfilePhoto:()=>co,uploadWallpaper:()=>lo,validateRequestedInfo:()=>Wa,viewSponsoredMessage:()=>zs});const a=("undefined"!=typeof window&&window.innerHeight,Math.round(425)),o=new Set(["newMessage1","newMessage","newScheduledMessage","deleteMessages","deleteScheduledMessages","deleteHistory"]),r=new Set(["image/png","image/gif","image/jpeg"]),c=new Set(["video/mp4"]),u=new Set(["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"]),d=(new Set([...r,...c]),new Set(["AU","BD","CA","CO","EG","HN","IE","IN","JO","MX","MY","NI","NZ","PH","PK","SA","SV","US"]),"777000"),l={uploadMaxFileparts:[4e3,8e3],stickersFaved:[5,10],savedGifs:[200,400],dialogFiltersChats:[100,200],dialogFilters:[10,20],dialogFolderPinned:[5,10],captionLength:[1024,2048],channels:[500,1e3],channelsPublic:[10,20],aboutLength:[70,140]};let p,h;var f=n(13522);function m(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function g(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}var A=n(48960);function w(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/jpeg";const s=t?"":`data:${n};base64,`;return`${s}${btoa(String.fromCharCode(...e))}`}function y(e){const{flags:t,CONSTRUCTOR_ID:n,SUBCLASS_OF_ID:s,className:i,classType:a,getBytes:o,...r}=e;return r}function v(e,t,n){return'<?xml version="1.0" encoding="utf-8"?><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 {{width}} {{height}}" xml:space="preserve"><path fill-opacity="0.1" d="{{path}}" /></svg>'.replace("{{path}}",function(e){let t="M";const n=e.length;for(let s=0;s<n;s++){const n=e[s];n>=192?t+="AACAAAAHAAALMAAAQASTAVAAAZaacaaaahaaalmaaaqastava.az0123456789-,"[n-128-64]:(n>=128?t+=",":n>=64&&(t+="-"),t+=String(63&n))}return t+="z",t}(e)).replace("{{width}}",String(t)).replace("{{height}}",String(n))}const I={w:100,h:100};function S(e,t){if(!e||!e.length)return;const n=e.find((e=>e instanceof f.Api.PhotoStrippedSize));if(!n)return;const s=e.filter((e=>e instanceof f.Api.PhotoSize)),{w:i,h:a}=s.length?s[s.length-1]:I,{bytes:o}=n;return{dataUri:w(t&&"image/jpeg"!==t?o:(0,A.strippedPhotoToJpg)(o),void 0,t),width:i,height:a}}function b(e){const t=e.sizes.filter((e=>e instanceof f.Api.PhotoSize||e instanceof f.Api.PhotoSizeProgressive)).map(M);return{id:String(e.id),thumbnail:S(e.sizes),sizes:t,...e.videoSizes&&{videoSizes:e.videoSizes.map(C),isVideo:!0}}}function C(e){const{videoStartTs:t,size:n,h:s,w:i,type:a}=e;return{videoStartTs:t,size:n,height:s,width:i,type:a}}function M(e){const{w:t,h:n,type:s}=e;return{width:t,height:n,type:s}}const P={localMessages:{},chats:{},users:{},messages:{},documents:{},stickerSets:{},photos:{},webDocuments:{}},k=P,B=k;function D(){Object.assign(k,P)}const R="application/x-tgsticker",H="video/webm";function U(e,t){if(e instanceof f.Api.DocumentEmpty)return;const{mimeType:n,videoThumbs:s}=e,i=e.attributes.find((e=>e instanceof f.Api.DocumentAttributeSticker)),a=(n===R||n===H)&&e.attributes.find((e=>e instanceof f.Api.DocumentAttributeFilename));if(!i&&!a)return;const o=n===R,r=n===H,c=e.attributes.find((e=>e instanceof f.Api.DocumentAttributeImageSize)),u=e.attributes.find((e=>e instanceof f.Api.DocumentAttributeVideo)),d=c||u,l=i&&i.stickerset instanceof f.Api.InputStickerSetID?i.stickerset:void 0,p=null==i?void 0:i.alt,h=e.thumbs&&e.thumbs.find((e=>e instanceof f.Api.PhotoCachedSize));if(!(n!==H||self.isWebmSupported||h||e.thumbs&&e.thumbs.find((e=>e instanceof f.Api.PhotoSize))))return;const m=e.thumbs&&e.thumbs.find((e=>e instanceof f.Api.PhotoPathSize)),g=h?function(e){const{w:t,h:n,bytes:s}=e;return{dataUri:w(s,void 0,"image/webp"),width:t,height:n}}(h):m&&d?function(e,t){const{w:n,h:s}=t;return{dataUri:`data:image/svg+xml;utf8,${v(e.bytes,n,s)}`,width:n,height:s}}(m,d):void 0,{w:A,h:y}=h||d||{},I=!t&&(null==s?void 0:s.some((e=>{let{type:t}=e;return"f"===t})));return{id:String(e.id),stickerSetId:l?String(l.id):"NO_STICKER_SET",stickerSetAccessHash:l&&String(l.accessHash),emoji:p,isLottie:o,isVideo:r,width:A,height:y,thumbnail:g,hasEffect:I}}function T(e){const{archived:t,animated:n,installedDate:s,videos:i,id:a,accessHash:o,title:r,thumbs:c,count:u,shortName:d}=e;return{archived:t,isLottie:n,isVideos:i,installedDate:s,id:String(a),accessHash:String(o),title:r,hasThumbnail:Boolean(null==c?void 0:c.length),count:u,shortName:d}}function N(e){const t=T(e.set),n=e instanceof f.Api.StickerSetMultiCovered?e.covers:[e.cover];return t.covers=[],n.forEach((e=>{if(e instanceof f.Api.Document){const n=U(e);n&&(t.covers.push(n),B.documents[String(e.id)]=e)}})),t}function x(e,t){let n=0;const s=new Array(t),i=e.length/t,a=e[0],o=e[e.length-1];for(let d=0;d<t;d++){var r,c,u;const t=Math.floor(d*i),l=((null!==(r=e[t-1])&&void 0!==r?r:a)+(null!==(c=e[t])&&void 0!==c?c:a)+(null!==(u=e[t+1])&&void 0!==u?u:o))/3;s[d]=l,n<l&&(n=l)}return{data:s,peak:n}}var G=n(24736),E=n.n(G),F=n(89618),q=n.n(F);let O,_;function L(e){return e.hasOwnProperty("userId")}function V(e){return e.hasOwnProperty("chatId")}function z(e,t){return"user"===t?String(e):`-${e}`}function W(e){return L(e)?z(e.userId,"user"):V(e)?z(e.chatId,"chat"):z(e.channelId,"channel")}!function(e){e.Bold="MessageEntityBold",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.Unknown="MessageEntityUnknown"}(O||(O={})),function(e){e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.Stream=2]="Stream",e[e.Text=3]="Text"}(_||(_={}));var j=n(48764).Buffer;function J(e){if(e instanceof f.Api.Message||e instanceof f.Api.MessageService)return W(e.peerId)}function K(e){const t=`${J(e)}-${e.id}`;B.messages[t]=e,e instanceof f.Api.Message&&(e.media instanceof f.Api.MessageMediaDocument&&e.media.document instanceof f.Api.Document&&(B.documents[String(e.media.document.id)]=e.media.document),e.media instanceof f.Api.MessageMediaWebPage&&e.media.webpage instanceof f.Api.WebPage&&e.media.webpage.document instanceof f.Api.Document&&(B.documents[String(e.media.webpage.document.id)]=e.media.webpage.document),e.media instanceof f.Api.MessageMediaGame&&(e.media.game.document instanceof f.Api.Document&&(B.documents[String(e.media.game.document.id)]=e.media.game.document),$(e.media.game.photo)),e.media instanceof f.Api.MessageMediaInvoice&&e.media.photo&&(B.webDocuments[String(e.media.photo.url)]=e.media.photo)),e instanceof f.Api.MessageService&&"photo"in e.action&&$(e.action.photo)}function $(e){e instanceof f.Api.Photo&&(B.photos[String(e.id)]=e)}function Q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=z(e.id,"user");!t&&B.users[n]||(B.users[n]=e)}function Y(e){e.forEach((e=>{e instanceof f.Api.User&&e.photo?Q(e):(e instanceof f.Api.Chat||e instanceof f.Api.Channel)&&e.photo&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=z(e.id,e instanceof f.Api.Chat?"chat":"channel");t&&B.chats[n]||(B.chats[n]=e)}(e)}))}function Z(e){return String.fromCharCode(...e)}function X(e){return j.from(e,"binary")}function ee(e){return"number"==typeof e?function(e){return e>0?"user":e<=-1e9?"channel":"chat"}(e):e.startsWith("-")?e.length>=11?"channel":"chat":"user"}function te(e,t){const n=ee(e);return"user"===n?new f.Api.InputPeerUser({userId:we(e,"user"),accessHash:E()(t)}):"channel"===n?new f.Api.InputPeerChannel({channelId:we(e,"channel"),accessHash:E()(t)}):new f.Api.InputPeerChat({chatId:we(e,"chat")})}function ne(e){const t=ee(e);let n;var s;if("user"===t){if(n=null===(s=B.users[e])||void 0===s?void 0:s.accessHash,!n)return}else if("channel"===t){var i;if(n=null===(i=B.chats[e])||void 0===i?void 0:i.accessHash,!n)return}return te(e,String(n))}function se(e,t){const n=ee(e);return"user"===n?new f.Api.InputUser({userId:we(e,"user"),accessHash:E()(t)}):"channel"===n?new f.Api.InputChannel({channelId:we(e,"channel"),accessHash:E()(t)}):we(e,"chat")}function ie(e,t){return new f.Api.InputStickerSetID({id:E()(e),accessHash:E()(t)})}function ae(e){const t=B.documents[e.id];if(t)return new f.Api.InputDocument(g(t,["id","accessHash","fileReference"]))}function oe(e){var t,n;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new f.Api.InputMediaPoll({poll:new f.Api.Poll({id:E()(e.id),publicVoters:e.summary.isPublic,question:e.summary.question,answers:e.summary.answers.map((e=>{let{text:t,option:n}=e;return new f.Api.PollAnswer({text:t,option:X(n)})})),quiz:e.summary.quiz,multipleChoice:e.summary.multipleChoice,closeDate:e.summary.closeDate,closePeriod:e.summary.closePeriod,closed:!!s||e.summary.closed}),correctAnswers:null===(t=e.results.results)||void 0===t?void 0:t.filter((e=>e.isCorrect)).map((e=>X(e.option))),solution:e.results.solution,solutionEntities:null===(n=e.results.solutionEntities)||void 0===n?void 0:n.map(ue)})}function re(){return(0,F.readBigIntFromBuffer)((0,F.generateRandomBytes)(8),!0,!0)}function ce(){return(0,F.readBigIntFromBuffer)((0,F.generateRandomBytes)(4),!0,!0).toJSNumber()}function ue(e){const{type:t,offset:n,length:s,url:i,userId:a,language:o}=e,r=a?B.users[a]:void 0;switch(t){case O.Bold:return new f.Api.MessageEntityBold({offset:n,length:s});case O.Italic:return new f.Api.MessageEntityItalic({offset:n,length:s});case O.Underline:return new f.Api.MessageEntityUnderline({offset:n,length:s});case O.Strike:return new f.Api.MessageEntityStrike({offset:n,length:s});case O.Code:return new f.Api.MessageEntityCode({offset:n,length:s});case O.Pre:return new f.Api.MessageEntityPre({offset:n,length:s,language:o||""});case O.Blockquote:return new f.Api.MessageEntityBlockquote({offset:n,length:s});case O.TextUrl:return new f.Api.MessageEntityTextUrl({offset:n,length:s,url:i});case O.Url:return new f.Api.MessageEntityUrl({offset:n,length:s});case O.Hashtag:return new f.Api.MessageEntityHashtag({offset:n,length:s});case O.MentionName:return new f.Api.InputMessageEntityMentionName({offset:n,length:s,userId:new f.Api.InputUser({userId:E()(a),accessHash:r.accessHash})});case O.Spoiler:return new f.Api.MessageEntitySpoiler({offset:n,length:s});default:return new f.Api.MessageEntityUnknown({offset:n,length:s})}}function de(e){const{media:t}=e;return!!t&&(t instanceof f.Api.MessageMediaPhoto||t instanceof f.Api.MessageMediaDocument||t instanceof f.Api.MessageMediaWebPage&&t.webpage instanceof f.Api.WebPage&&(t.webpage.photo instanceof f.Api.Photo||t.webpage.document instanceof f.Api.Document&&t.webpage.document.mimeType.startsWith("video"))||t instanceof f.Api.MessageMediaGame&&(t.game.document instanceof f.Api.Document||t.game.photo instanceof f.Api.Photo)||t instanceof f.Api.MessageMediaInvoice&&t.photo)}function le(e){let{phone:t,firstName:n,lastName:s}=e;return new f.Api.InputPhoneContact({clientId:E()(1),phone:t,firstName:n,lastName:s})}function pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new f.Api.ChatBannedRights({...e,untilDate:t})}function he(e){return new f.Api.ChatAdminRights(e)}function fe(e){const{shippingAddress:t}=e;return new f.Api.PaymentRequestedInfo({...e,shippingAddress:t?new f.Api.PostAddress(t):void 0})}function me(e){switch(e){case"phoneNumber":return new f.Api.InputPrivacyKeyPhoneNumber;case"lastSeen":return new f.Api.InputPrivacyKeyStatusTimestamp;case"profilePhoto":return new f.Api.InputPrivacyKeyProfilePhoto;case"forwards":return new f.Api.InputPrivacyKeyForwards;case"chatInvite":return new f.Api.InputPrivacyKeyChatInvite;case"phoneCall":return new f.Api.InputPrivacyKeyPhoneCall;case"phoneP2P":return new f.Api.InputPrivacyKeyPhoneP2P}}function ge(e){switch(e){case"spam":return new f.Api.InputReportReasonSpam;case"violence":return new f.Api.InputReportReasonViolence;case"childAbuse":return new f.Api.InputReportReasonChildAbuse;case"pornography":return new f.Api.InputReportReasonPornography;case"copyright":return new f.Api.InputReportReasonCopyright;case"fake":return new f.Api.InputReportReasonFake;case"geoIrrelevant":return new f.Api.InputReportReasonGeoIrrelevant;case"illegalDrugs":return new f.Api.InputReportReasonIllegalDrugs;case"personalDetails":return new f.Api.InputReportReasonPersonalDetails;case"other":return new f.Api.InputReportReasonOther}}function Ae(e){return new f.Api.DataJSON({data:JSON.stringify(e)})}function we(e,t){return"number"==typeof e?E()(Math.abs(e)):"user"===t?E()(e):E()(e.slice(1))}function ye(e){return new f.Api.InputGroupCall({id:E()(e.id),accessHash:E()(e.accessHash)})}function ve(e){let{id:t,accessHash:n}=e;return new f.Api.InputPhoneCall({id:E()(t),accessHash:E()(n)})}function Ie(e){return"slug"in e?new f.Api.InputInvoiceSlug({slug:e.slug}):new f.Api.InputInvoiceMessage({peer:te(e.chat.id,e.chat.accessHash),msgId:e.messageId})}function Se(e){const{self:t,min:n,about:s,date:i,versioned:a,canSelfUnmute:o,justJoined:r,left:c,muted:u,mutedByYou:d,source:l,volume:p,volumeByAdmin:h,videoJoined:f,peer:m,video:g,presentation:A,raiseHandRating:w}=e;return{isSelf:t,isMin:n,canSelfUnmute:o,isLeft:c,isMuted:u,isMutedByMe:d,hasJustJoined:r,isVolumeByAdmin:h,isVersioned:a,isVideoJoined:f,about:s,source:l,raiseHandRating:null==w?void 0:w.toString(),volume:p,date:new Date(i),isUser:L(m),id:W(m),video:g?be(g):void 0,presentation:A?be(A):void 0}}function be(e){const{audioSource:t,endpoint:n,paused:s,sourceGroups:i}=e;return{audioSource:t,endpoint:n,isPaused:s,sourceGroups:i.map(Ce)}}function Ce(e){return{semantics:e.semantics,sources:e.sources}}function Me(e){const{id:t,accessHash:n}=e;if(e instanceof f.Api.GroupCallDiscarded)return{connectionState:"discarded",id:t.toString(),accessHash:n.toString(),participantsCount:0,version:0,participants:{}};const{version:s,participantsCount:i,streamDcId:a,scheduleDate:o,canChangeJoinMuted:r,joinMuted:c,canStartVideo:u,scheduleStartSubscribed:d}=e;return{connectionState:"disconnected",isLoaded:!0,id:t.toString(),accessHash:n.toString(),version:s,participantsCount:i,streamDcId:a,scheduleDate:o,canChangeJoinMuted:r,joinMuted:c,canStartVideo:u,scheduleStartSubscribed:d,participants:{}}}function Pe(e){const{id:t}=e;let n={id:t.toString()};if(e instanceof f.Api.PhoneCallAccepted||e instanceof f.Api.PhoneCallWaiting||e instanceof f.Api.PhoneCall||e instanceof f.Api.PhoneCallRequested){const{accessHash:t,adminId:s,date:i,video:a,participantId:o,protocol:r}=e;n={...n,accessHash:t.toString(),adminId:s.toString(),participantId:o.toString(),date:i,isVideo:a,protocol:De(r)}}if(e instanceof f.Api.PhoneCall){const{p2pAllowed:t,gAOrB:s,keyFingerprint:i,connections:a,startDate:o}=e;n={...n,state:"active",gAOrB:Array.from(s),keyFingerprint:i.toString(),startDate:o,p2pAllowed:t,connections:a.map(Be).filter(Boolean)}}return e instanceof f.Api.PhoneCallDiscarded&&(n={...n,state:"discarded",duration:e.duration,reason:ke(e.reason),needRating:e.needRating,needDebug:e.needDebug}),e instanceof f.Api.PhoneCallWaiting&&(n={...n,state:"waiting",receiveDate:e.receiveDate}),e instanceof f.Api.PhoneCallAccepted&&(n={...n,state:"accepted",gB:Array.from(e.gB)}),e instanceof f.Api.PhoneCallRequested&&(n={...n,state:"requested",gAHash:Array.from(e.gAHash)}),n}function ke(e){return e instanceof f.Api.PhoneCallDiscardReasonMissed?"missed":e instanceof f.Api.PhoneCallDiscardReasonBusy?"busy":e instanceof f.Api.PhoneCallDiscardReasonHangup?"hangup":"disconnect"}function Be(e){if(e instanceof f.Api.PhoneConnectionWebrtc){const{username:t,password:n,turn:s,stun:i,ip:a,ipv6:o,port:r}=e;return{username:t,password:n,isTurn:s,isStun:i,ip:a,ipv6:o,port:r}}}function De(e){const{libraryVersions:t,minLayer:n,maxLayer:s,udpP2p:i,udpReflector:a}=e;return{libraryVersions:t,minLayer:n,maxLayer:s,isUdpP2p:i,isUdpReflector:a}}function Re(){return new f.Api.PhoneCallProtocol({libraryVersions:["4.0.0"],minLayer:92,maxLayer:92,udpReflector:!0,udpP2p:!0})}const He="temp";let Ue=0;const Te=()=>parseFloat(`${Date.now()}.${Ue++}`);let Ne;function xe(e){const{fromId:t,message:n,entities:s,startParam:i,channelPost:a,chatInvite:o,chatInviteHash:r,randomId:c,recommended:u}=e,d=t?W(t):void 0,l=o?o instanceof f.Api.ChatInvite?o.title:o.chat instanceof f.Api.ChatEmpty?void 0:o.chat.title:void 0;return{randomId:Z(c),isBot:!!t&&L(t),text:_e(n,s),expiresAt:Math.round(Date.now()/1e3)+3e5,isRecommended:Boolean(u),...d&&{chatId:d},...r&&{chatInviteHash:r},...o&&{chatInviteTitle:l},...i&&{startParam:i},...a&&{channelPostId:a}}}function Ge(e){const t=J(e);if(t&&(e instanceof f.Api.Message||e instanceof f.Api.MessageService))return function(e,t){const n=t.fromId?W(t.fromId):void 0,s=t.peerId?W(t.peerId):void 0,i=!n&&e===Ne,a=t.out&&!t.post||i&&!t.fwdFrom,o=function(e){var t;let n={};e.media&&(n={...Le(e.media)});const s=e.media instanceof f.Api.MessageMediaUnsupported;return!e.message||s||n.sticker||n.poll||n.contact||null!==(t=n.video)&&void 0!==t&&t.isRound||(n={...n,text:_e(e.message,e.entities)}),n}(t),r=t.action&&function(e,t,n,s,i){if(e instanceof f.Api.MessageActionEmpty)return;let a,o,r,c,u;const d=[];let l,p,h="other";const m="users"in e?e.users&&e.users.map((e=>z(e,"user"))):"userId"in e&&[z(e.userId,"user")]||[];let g;if(e instanceof f.Api.MessageActionChatCreate)u="Notification.CreatedChatWithTitle",d.push("%action_origin%",e.title),h="chatCreate";else if(e instanceof f.Api.MessageActionChatEditTitle)s?(u="Channel.MessageTitleUpdated",d.push(e.title)):(u="Notification.ChangedGroupName",d.push("%action_origin%",e.title));else if(e instanceof f.Api.MessageActionChatEditPhoto)s?u="Channel.MessagePhotoUpdated":(u="Notification.ChangedGroupPhoto",d.push("%action_origin%"));else if(e instanceof f.Api.MessageActionChatDeletePhoto)u=s?"Channel.MessagePhotoRemoved":"Group.MessagePhotoRemoved";else if(e instanceof f.Api.MessageActionChatAddUser)!t||m.includes(t)?(u="Notification.JoinedChat",d.push("%target_user%")):(u="Notification.Invited",d.push("%action_origin%","%target_user%"));else if(e instanceof f.Api.MessageActionChatDeleteUser)!t||m.includes(t)?(u="Notification.LeftChat",d.push("%target_user%")):(u="Notification.Kicked",d.push("%action_origin%","%target_user%"));else if(e instanceof f.Api.MessageActionChatJoinedByLink)u="Notification.JoinedGroupByLink",d.push("%action_origin%");else if(e instanceof f.Api.MessageActionChannelCreate)u="Notification.CreatedChannel";else if(e instanceof f.Api.MessageActionChatMigrateTo)g=W(e),u="Migrated to %target_chat%",d.push("%target_chat%");else if(e instanceof f.Api.MessageActionChannelMigrateFrom)g=W(e),u="Migrated from %target_chat%",d.push("%target_chat%");else if(e instanceof f.Api.MessageActionPinMessage)u="Chat.Service.Group.UpdatedPinnedMessage1",d.push("%action_origin%","%message%");else if(e instanceof f.Api.MessageActionHistoryClear)u="HistoryCleared",h="historyClear";else if(e instanceof f.Api.MessageActionPhoneCall){const t=Boolean(e.duration);if(u=[t?"ChatList.Service":"Chat",e.video?"VideoCall":"Call",i?t?"outgoing":"Outgoing":t?"incoming":"Incoming"].join("."),t){const t=Math.max(Math.round(e.duration/60),1);d.push(`${t} min${t>1?"s":""}`)}a={isOutgoing:i,isVideo:e.video,duration:e.duration,reason:ke(e.reason)}}else if(e instanceof f.Api.MessageActionInviteToGroupCall)u="Notification.VoiceChatInvitation",o={id:e.call.id.toString(),accessHash:e.call.accessHash.toString()},d.push("%action_origin%","%target_user%");else if(e instanceof f.Api.MessageActionContactSignUp)u="Notification.Joined",d.push("%action_origin%"),h="contactSignUp";else if(e instanceof f.Api.MessageActionPaymentSent)r=Number(e.totalAmount),c=e.currency,u="PaymentSuccessfullyPaid",n&&m.push(n),d.push("%payment_amount%","%target_user%","%product%");else if(e instanceof f.Api.MessageActionGroupCall)if(e.duration){const t=Math.max(Math.round(e.duration/60),1);u="Notification.VoiceChatEnded",d.push(`${t} min${t>1?"s":""}`)}else u="Notification.VoiceChatStartedChannel",o={id:e.call.id.toString(),accessHash:e.call.accessHash.toString()};else e instanceof f.Api.MessageActionBotAllowed?(u="Chat.Service.BotPermissionAllowed",d.push(e.domain)):e instanceof f.Api.MessageActionCustomAction?u=e.message:e instanceof f.Api.MessageActionChatJoinedByRequest?(u="ChatService.UserJoinedGroupByRequest",d.push("%action_origin%")):e instanceof f.Api.MessageActionGameScore?(u=t===Ne?"ActionYouScoredInGame":"ActionUserScoredInGame",d.push("%score%"),p=e.score):e instanceof f.Api.MessageActionWebViewDataSent?(u="Notification.WebAppSentData",d.push(e.text)):u="ChatList.UnsupportedMessage";return"photo"in e&&e.photo instanceof f.Api.Photo&&($(e.photo),l=b(e.photo)),{text:u,type:h,targetUserIds:m,targetChatId:g,photo:l,amount:r,currency:c,translationValues:d,call:o,phoneCall:a,score:p}}(t.action,n,s,Boolean(t.post),a);r&&(o.action=r);const{replyToMsgId:c,replyToTopId:u,replyToPeerId:d}=t.replyTo||{},l=t.editDate&&!t.editHide,{inlineButtons:p,keyboardButtons:h,keyboardPlaceholder:m,isKeyboardSingleUse:g}=function(e){const{replyMarkup:t,media:n}=e;if(!t)return n instanceof f.Api.MessageMediaWebPage&&n.webpage instanceof f.Api.WebPage&&"telegram_message"===n.webpage.type?{inlineButtons:[[{type:"url",text:"Show Message",url:n.webpage.url}]]}:void 0;if(!(t instanceof f.Api.ReplyKeyboardMarkup||t instanceof f.Api.ReplyInlineMarkup))return;const s=t.rows.map((e=>{let{buttons:t}=e;return t.map((e=>{const{text:t}=e;return e instanceof f.Api.KeyboardButton?{type:"command",text:t}:e instanceof f.Api.KeyboardButtonUrl?e.url.includes("?startgroup=")?{type:"unsupported",text:t}:{type:"url",text:t,url:e.url}:e instanceof f.Api.KeyboardButtonCallback?e.requiresPassword?{type:"unsupported",text:t}:{type:"callback",text:t,data:Z(e.data)}:e instanceof f.Api.KeyboardButtonRequestPoll?{type:"requestPoll",text:t,isQuiz:e.quiz}:e instanceof f.Api.KeyboardButtonRequestPhone?{type:"requestPhone",text:t}:e instanceof f.Api.KeyboardButtonBuy?n instanceof f.Api.MessageMediaInvoice&&n.receiptMsgId?{type:"receipt",text:"PaymentReceipt",receiptMessageId:n.receiptMsgId}:{type:"buy",text:t}:e instanceof f.Api.KeyboardButtonGame?{type:"game",text:t}:e instanceof f.Api.KeyboardButtonSwitchInline?{type:"switchBotInline",text:t,query:e.query,isSamePeer:e.samePeer}:e instanceof f.Api.KeyboardButtonUserProfile?{type:"userProfile",text:t,userId:e.userId.toString()}:e instanceof f.Api.KeyboardButtonSimpleWebView?{type:"simpleWebView",text:t,url:e.url}:e instanceof f.Api.KeyboardButtonWebView?{type:"webView",text:t,url:e.url}:e instanceof f.Api.KeyboardButtonUrlAuth?{type:"urlAuth",text:t,url:e.url,buttonId:e.buttonId}:{type:"unsupported",text:t}}))}));return{[t instanceof f.Api.ReplyKeyboardMarkup?"keyboardButtons":"inlineButtons"]:s,...t instanceof f.Api.ReplyKeyboardMarkup&&{keyboardPlaceholder:t.placeholder,isKeyboardSingleUse:t.singleUse}}}(t)||{},A=t.fwdFrom&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.savedFromPeer&&W(e.savedFromPeer),s=e.fromId&&W(e.fromId);return{date:e.date,isChannelPost:Boolean(e.channelPost),channelPostId:e.channelPost,isLinkedChannelPost:Boolean(e.channelPost&&n&&!t),fromChatId:n||s,fromMessageId:e.savedFromMsgId||e.channelPost,senderUserId:s,hiddenUserName:e.fromName,adminTitle:e.postAuthor}}(t.fwdFrom,i),{replies:w,mediaUnread:y,postAuthor:v}=t,I=t.groupedId&&String(t.groupedId),S=Boolean(I)&&!(o.document||o.audio||o.sticker),C=t.replyMarkup instanceof f.Api.ReplyKeyboardHide;return{id:t.id,chatId:e,isOutgoing:a,content:o,date:t.date,senderId:n||t.out&&t.post&&Ne||e,views:t.views,forwards:t.forwards,isFromScheduled:t.fromScheduled,reactions:t.reactions&&Ee(t.reactions),...c&&{replyToMessageId:c},...d&&{replyToChatId:W(d)},...u&&{replyToTopMessageId:u},...A&&{forwardInfo:A},...l&&{isEdited:l},...t.editDate&&{editDate:t.editDate},...y&&{isMediaUnread:y},...t.mentioned&&y&&{hasUnreadMention:!0},...t.mentioned&&{isMentioned:!0},...I&&{groupedId:I,isInAlbum:S},inlineButtons:p,...h&&{keyboardButtons:h,keyboardPlaceholder:m,isKeyboardSingleUse:g},...C&&{shouldHideKeyboardButtons:C},...t.viaBotId&&{viaBotId:z(t.viaBotId,"user")},...(null==w?void 0:w.comments)&&{threadInfo:Xe(w,t.id,e)},...v&&{adminTitle:v},...t.noforwards&&{isProtected:!0}}}(t,e)}function Ee(e){const{recentReactions:t,results:n,canSeeList:s}=e;return{canSeeList:s,results:n.map(Fe),recentReactions:null==t?void 0:t.map(qe)}}function Fe(e){const{chosen:t,count:n,reaction:s}=e;return{isChosen:t,count:n,reaction:s}}function qe(e){const{peerId:t,reaction:n,big:s,unread:i}=e;return{userId:W(t),reaction:n,isUnread:i,isBig:s}}function Oe(e){const{selectAnimation:t,staticIcon:n,reaction:s,title:i,inactive:a,aroundAnimation:o,centerIcon:r,effectAnimation:c,activateAnimation:u,premium:d}=e;return{selectAnimation:ze(t),activateAnimation:ze(u),effectAnimation:ze(c),staticIcon:ze(n),aroundAnimation:o?ze(o):void 0,centerIcon:r?ze(r):void 0,reaction:s,title:i,isInactive:a,isPremium:d}}function _e(e,t){return{text:e,...t&&{entities:t.map(Ze)}}}function Le(e){if("ttlSeconds"in e&&e.ttlSeconds)return;const t=function(e){if(e instanceof f.Api.MessageMediaDocument&&e.document&&e.document instanceof f.Api.Document)return U(e.document,e.nopremium)}(e);if(t)return{sticker:t};const n=function(e){if(e instanceof f.Api.MessageMediaPhoto&&e.photo&&e.photo instanceof f.Api.Photo)return b(e.photo)}(e);if(n)return{photo:n};const s=function(e){if(e instanceof f.Api.MessageMediaDocument&&e.document instanceof f.Api.Document&&e.document.mimeType.startsWith("video"))return Ve(e.document)}(e);if(s)return{video:s};const i=function(e){if(!(e instanceof f.Api.MessageMediaDocument&&e.document&&e.document instanceof f.Api.Document))return;const t=e.document.attributes.find((e=>e instanceof f.Api.DocumentAttributeAudio));if(!t||t.voice)return;const n=e.document.thumbs&&e.document.thumbs.filter((e=>e instanceof f.Api.PhotoSize)).map((e=>M(e)));return{id:String(e.document.id),fileName:Ke(e.document,"audio"),thumbnailSizes:n,size:e.document.size.toJSNumber(),...g(e.document,["mimeType"]),...g(t,["duration","performer","title"])}}(e);if(i)return{audio:i};const a=function(e){if(!(e instanceof f.Api.MessageMediaDocument&&e.document&&e.document instanceof f.Api.Document))return;const t=e.document.attributes.find((e=>e instanceof f.Api.DocumentAttributeAudio));if(!t||!t.voice)return;const{duration:n,waveform:s}=t;return{id:String(e.document.id),duration:n,waveform:s?Array.from(s):void 0}}(e);if(a)return{voice:a};const o=function(e){if(e instanceof f.Api.MessageMediaDocument&&e.document)return ze(e.document)}(e);if(o)return{document:o};const r=function(e){if(!(e instanceof f.Api.MessageMediaContact))return;const{firstName:t,lastName:n,phoneNumber:s,userId:i}=e;return{firstName:t,lastName:n,phoneNumber:s,userId:z(i,"user")}}(e);if(r)return{contact:r};const c=function(e){if(e instanceof f.Api.MessageMediaPoll)return function(e,t){const{id:n,answers:s}=e,i=s.map((e=>({text:e.text,option:Z(e.option)})));return{id:String(n),summary:{isPublic:e.publicVoters,...g(e,["closed","multipleChoice","quiz","question","closePeriod","closeDate"]),answers:i},results:je(t)}}(e.poll,e.results)}(e);if(c)return{poll:c};const u=Je(e);if(u)return{webPage:u};const d=function(e){if(e instanceof f.Api.MessageMediaInvoice)return function(e){const{description:t,title:n,photo:s,test:i,totalAmount:a,currency:o,receiptMsgId:r}=e;return{text:t,title:n,photo:Qe(s),receiptMsgId:r,amount:Number(a),currency:o,isTest:i}}(e)}(e);if(d)return{invoice:d};const l=function(e){return e instanceof f.Api.MessageMediaGeo?function(e){const t=We(e.geo);return t&&{type:"geo",geo:t}}(e):e instanceof f.Api.MessageMediaVenue?function(e){const{geo:t,title:n,provider:s,address:i,venueId:a,venueType:o}=e,r=We(t);return r&&{type:"venue",geo:r,title:n,provider:s,address:i,venueId:a,venueType:o}}(e):e instanceof f.Api.MessageMediaGeoLive?function(e){const{geo:t,period:n,heading:s}=e,i=We(t);return i&&{type:"geoLive",geo:i,period:n,heading:s}}(e):void 0}(e);if(l)return{location:l};const p=function(e){if(e instanceof f.Api.MessageMediaGame)return function(e){const{id:t,accessHash:n,shortName:s,title:i,description:a,photo:o,document:r}=e.game,c=o instanceof f.Api.Photo?b(o):void 0,u=r instanceof f.Api.Document?ze(r):void 0;return{id:t.toString(),accessHash:n.toString(),shortName:s,title:i,description:a,photo:c,document:u}}(e)}(e);return p?{game:p}:void 0}function Ve(e){if(e instanceof f.Api.DocumentEmpty)return;const{id:t,mimeType:n,thumbs:s,size:i,attributes:a}=e;if("video/webm"===n&&!self.isWebmSupported)return;if("video/quicktime"===n&&!self.isMovSupported)return;const o=a.find((e=>e instanceof f.Api.DocumentAttributeVideo));if(!o)return;const r=a.find((e=>e instanceof f.Api.DocumentAttributeAnimated)),{duration:c,w:u,h:d,supportsStreaming:l=!1,roundMessage:p=!1}=o;return{id:String(t),mimeType:n,duration:c,fileName:Ke(e,"video"),width:u,height:d,supportsStreaming:l,isRound:p,isGif:Boolean(r),thumbnail:S(s),size:i.toJSNumber()}}function ze(e){if(!(e instanceof f.Api.Document))return;const{id:t,size:n,mimeType:s,date:i,thumbs:a,attributes:o}=e,u=a&&S(a);let d,l;const p=a&&a.find((e=>e instanceof f.Api.PhotoSize));if(p)if(l={width:p.w,height:p.h},r.has(s)){d="photo";const e=o.find((e=>e instanceof f.Api.DocumentAttributeImageSize));if(e){const{w:t,h:n}=e;l={width:t,height:n}}}else if(c.has(s)){d="video";const e=o.find((e=>e instanceof f.Api.DocumentAttributeVideo));if(e){const{w:t,h:n}=e;l={width:t,height:n}}}return{id:String(t),size:n.toJSNumber(),mimeType:s,timestamp:i,fileName:Ke(e),thumbnail:u,mediaType:d,mediaSize:l}}function We(e){if(e instanceof f.Api.GeoPointEmpty)return;const{long:t,lat:n,accuracyRadius:s,accessHash:i}=e;return{long:t,lat:n,accessHash:i.toString(),accuracyRadius:s}}function je(e){const{results:t,totalVoters:n,recentVoters:s,solution:i,solutionEntities:a,min:o}=e,r=t&&t.map((e=>{let{option:t,chosen:n,correct:s,voters:i}=e;return{isChosen:n,isCorrect:s,option:Z(t),votersCount:i}}));return{isMin:o,totalVoters:n,recentVoterIds:null==s?void 0:s.map((e=>z(e,"user"))),results:r,solution:i,...a&&{solutionEntities:a.map(Ze)}}}function Je(e){if(!(e instanceof f.Api.MessageMediaWebPage&&e.webpage instanceof f.Api.WebPage))return;const{id:t,photo:n,document:s}=e.webpage;let i;return s instanceof f.Api.Document&&s.mimeType.startsWith("video/")&&(i=Ve(s)),{id:Number(t),...g(e.webpage,["url","displayUrl","type","siteName","title","description","duration"]),photo:n instanceof f.Api.Photo?b(n):void 0,document:!i&&s?ze(s):void 0,video:i}}function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file";const{mimeType:n,attributes:s}=e,i=s.find((e=>e instanceof f.Api.DocumentAttributeFilename));if(i)return i.fileName;const a=n.split("/")[1];return`${t}${String(e.id)}.${a}`}function $e(e){const{filename:t,blobUrl:n,previewBlobUrl:s,mimeType:i,size:a}=e;if(e.quick){if(r.has(i)){const{width:t,height:s}=e.quick;return{photo:{id:He,sizes:[],thumbnail:{width:t,height:s,dataUri:""},blobUrl:n}}}if(c.has(i)){const{width:o,height:r,duration:c}=e.quick;return{video:{id:He,mimeType:i,duration:c||0,fileName:t,width:o,height:r,blobUrl:n,...s&&{thumbnail:{width:o,height:r,dataUri:s}},size:a}}}}if(e.voice){const{duration:t,waveform:n}=e.voice,{data:s}=x(n,63);return{voice:{id:He,duration:t,waveform:s}}}if(u.has(i)){const{duration:n,performer:s,title:o}=e.audio||{};return{audio:{id:He,mimeType:i,fileName:t,size:a,duration:n||0,title:o,performer:s}}}return{document:{mimeType:i,fileName:t,size:a,...s&&{previewBlobUrl:s}}}}function Qe(e){if(!e)return;const{url:t,size:n,mimeType:s}=e,i=e instanceof f.Api.WebDocument?e.accessHash.toString():void 0,a=e.attributes.find((e=>e instanceof f.Api.DocumentAttributeImageSize));return{url:t,accessHash:i,size:n,mimeType:s,dimensions:a&&{width:a.w,height:a.h}}}function Ye(e,t){return{poll:{id:String(t),summary:g(e.summary,["question","answers"]),results:{}}}}function Ze(e){const{className:t,offset:n,length:s}=e;return{type:t,offset:n,length:s,...e instanceof f.Api.MessageEntityMentionName&&{userId:z(e.userId,"user")},..."url"in e&&{url:e.url},..."language"in e&&{language:e.language}}}function Xe(e,t,n){const{channelId:s,replies:i,maxId:a,readMaxId:o,recentRepliers:r}=e;if(!s)return;const c=z(s,"channel");return"-777"!==c?{threadId:t,...n!==c?{chatId:c,originChannelId:n}:{chatId:n},messagesCount:i,lastMessageId:a,lastReadInboxMessageId:o,...r&&{recentReplierIds:r.map(W)}}:void 0}const et=e=>Math.floor(Date.now()/1e3)+e;function tt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Boolean("min"in e&&e.min),s="accessHash"in e&&String(e.accessHash),i="photo"in e&&e.photo&&"hasVideo"in e.photo&&e.photo.hasVideo,a="photo"in e&&e.photo&&lt(e.photo),o=Boolean("signatures"in e&&e.signatures),r=Boolean("hasLink"in e&&e.hasLink),c=Boolean("scam"in e&&e.scam),u=Boolean("fake"in e&&e.fake),d=Boolean("joinToSend"in e&&e.joinToSend),l=Boolean("joinRequest"in e&&e.joinRequest);return{isMin:n,hasPrivateLink:r,isSignaturesShown:o,...s&&{accessHash:s},hasVideoAvatar:i,...a&&{avatarHash:a},...(e instanceof f.Api.Channel||e instanceof f.Api.User)&&{username:e.username},..."verified"in e&&{isVerified:e.verified},..."callActive"in e&&{isCallActive:e.callActive},..."callNotEmpty"in e&&{isCallNotEmpty:e.callNotEmpty},...(e instanceof f.Api.Chat||e instanceof f.Api.Channel)&&{...e.participantsCount&&{membersCount:e.participantsCount},joinDate:e.date},...(e instanceof f.Api.Chat||e instanceof f.Api.Channel)&&{isProtected:Boolean("noforwards"in e&&e.noforwards)},...t&&{isSupport:!0},...st(e),..."creator"in e&&{isCreator:e.creator},...it(e),...at(e),fakeType:c?"scam":u?"fake":void 0,isJoinToSend:d,isJoinRequest:l}}function nt(e,t,n){const{peer:s,folderId:i,unreadMark:a,unreadCount:o,unreadMentionsCount:r,unreadReactionsCount:c,notifySettings:{silent:u,muteUntil:d},readOutboxMaxId:l,readInboxMaxId:p,draft:h}=e,m=u||"number"==typeof d&&et(n)<d;return{id:W(s),...i&&{folderId:i},type:rt(t),title:ut(s,t),lastReadOutboxMessageId:l,lastReadInboxMessageId:p,unreadCount:o,unreadMentionsCount:r,unreadReactionsCount:c,isMuted:m,...a&&{hasUnreadMark:!0},...h instanceof f.Api.DraftMessage&&{draftDate:h.date},...tt(t)}}function st(e){return e instanceof f.Api.Chat||e instanceof f.Api.Channel?{adminRights:e.adminRights?y(e.adminRights):void 0,currentUserBannedRights:e instanceof f.Api.Channel&&e.bannedRights?y(e.bannedRights):void 0,defaultBannedRights:e.defaultBannedRights?y(e.defaultBannedRights):void 0}:{}}function it(e){if(e instanceof f.Api.ChatForbidden)return{isForbidden:!0};if(e instanceof f.Api.ChannelForbidden)return{isRestricted:!0};const t={};if("restricted"in e){const n=e.restricted?function(e){if(!e)return;const t=e.find((e=>{let{platform:t}=e;return"all"===t}));return t?g(t,["reason","text"]):void 0}(e.restrictionReason):void 0;n&&Object.assign(t,{isRestricted:!0,restrictionReason:n})}return e instanceof f.Api.Chat&&Object.assign(t,{isNotJoined:e.left}),e instanceof f.Api.Channel&&Object.assign(t,{isNotJoined:e.left}),t}function at(e){return e instanceof f.Api.Chat&&e.migratedTo&&!(e.migratedTo instanceof f.Api.InputChannelEmpty)?{migratedTo:{chatId:W(e.migratedTo),...e.migratedTo instanceof f.Api.InputChannel&&{accessHash:String(e.migratedTo.accessHash)}}}:{}}function ot(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof f.Api.Chat||e instanceof f.Api.Channel||e instanceof f.Api.User||n&&(e instanceof f.Api.ChatForbidden||e instanceof f.Api.ChannelForbidden))return{id:z(e.id,e instanceof f.Api.User?"user":"chat"),type:rt(e),title:e instanceof f.Api.User?dt(e):e.title,...tt(e,t)}}function rt(e){return e instanceof f.Api.User||e instanceof f.Api.UserEmpty?"chatTypePrivate":e instanceof f.Api.Chat||e instanceof f.Api.ChatForbidden||e instanceof f.Api.ChatEmpty?"chatTypeBasicGroup":e.megagroup?"chatTypeSuperGroup":"chatTypeChannel"}function ct(e){return L(e)?`user${e.userId}`:V(e)?`chat${e.chatId}`:`chat${e.channelId}`}function ut(e,t){return L(e)?dt(t):t.title}function dt(e){return e.firstName?`${e.firstName}${e.lastName?` ${e.lastName}`:""}`:e.lastName||void 0}function lt(e){if("photoId"in e)return String(e.photoId)}function pt(e){return{userId:e instanceof f.Api.ChannelParticipantBanned||e instanceof f.Api.ChannelParticipantLeft?W(e.peer):z(e.userId,"user"),inviterId:"inviterId"in e?z(e.inviterId,"user"):void 0,joinedDate:"date"in e?e.date:void 0,kickedByUserId:"kickedBy"in e?z(e.kickedBy,"user"):void 0,promotedByUserId:"promotedBy"in e?z(e.promotedBy,"user"):void 0,bannedRights:"bannedRights"in e?y(e.bannedRights):void 0,adminRights:"adminRights"in e?y(e.adminRights):void 0,customTitle:"rank"in e?e.rank:void 0,...(e instanceof f.Api.ChannelParticipantAdmin||e instanceof f.Api.ChatParticipantAdmin)&&{isAdmin:!0},...(e instanceof f.Api.ChannelParticipantCreator||e instanceof f.Api.ChatParticipantCreator)&&{isOwner:!0}}}function ht(e){return e instanceof f.Api.ChatParticipants||e instanceof f.Api.channels.ChannelParticipants?e.participants.map(pt).filter(Boolean):void 0}function ft(e){return{...(t=e,n=["id","title","emoticon","contacts","nonContacts","groups","bots","excludeMuted","excludeRead","excludeArchived"],n.reduce(((e,n)=>(t[n]&&(e[n]=t[n]),e)),{})),channels:e.broadcasts,pinnedChatIds:e.pinnedPeers.map(W).filter(Boolean),includedChatIds:e.includePeers.map(W).filter(Boolean),excludedChatIds:e.excludePeers.map(W).filter(Boolean)};var t,n}function mt(e){let{filter:t,description:n}=e;if(t instanceof f.Api.DialogFilter)return{...ft(t),description:n}}function gt(e){return e.reduce(((e,t)=>{const n=z(t.userId,"user");return t.commands&&(e=e.concat(t.commands.map((e=>({botId:n,...y(e)}))))),e}),[])}function At(e){const{revoked:t,date:n,expireDate:s,link:i,permanent:a,startDate:o,usage:r,usageLimit:c,requested:u,requestNeeded:d,title:l,adminId:p}=e;return{isRevoked:t,date:n,expireDate:s,link:i,isPermanent:a,startDate:o,usage:r,usageLimit:c,isRequestNeeded:d,requested:u,title:l,adminId:z(p,"user")}}function wt(e){return{id:e.botId.toString(),hasSettings:e.hasSettings,shortName:e.shortName,peerTypes:e.peerTypes.map(yt),icons:e.icons.map(vt).filter(Boolean)}}function yt(e){return e instanceof f.Api.AttachMenuPeerTypeBotPM?"bot":e instanceof f.Api.AttachMenuPeerTypePM?"private":e instanceof f.Api.AttachMenuPeerTypeChat?"chat":e instanceof f.Api.AttachMenuPeerTypeBroadcast?"channel":e instanceof f.Api.AttachMenuPeerTypeSameBotPM?"self":void 0}function vt(e){if(!(e.icon instanceof f.Api.Document))return;const t=ze(e.icon);return t?(B.documents[String(e.icon.id)]=e.icon,{name:e.name,document:t}):void 0}function It(e,t){const{description:n,descriptionPhoto:s,descriptionDocument:i,userId:a,commands:o,menuButton:r}=e,c=a&&z(a,"user"),u=s instanceof f.Api.Photo?b(s):void 0,d=i instanceof f.Api.Document?Ve(i):void 0,l=null==o?void 0:o.map((e=>function(e,t){return{botId:e,...y(t)}}(c||t,e)));return{botId:c||t,description:n,gif:d,photo:u,menuButton:St(r),commands:null!=l&&l.length?l:void 0}}function St(e){return e instanceof f.Api.BotMenuButton?{type:"webApp",text:e.text,url:e.url}:{type:"commands"}}function bt(e){const{fullUser:{about:t,commonChatsCount:n,pinnedMsgId:s,botInfo:i,blocked:a,profilePhoto:o},users:r}=e,c=Ct(r[0]);return{...c,fullInfo:{...o instanceof f.Api.Photo&&{profilePhoto:b(o)},bio:t,commonChatsCount:n,pinnedMessageId:s,isBlocked:Boolean(a),...i&&{botInfo:It(i,c.id)}}}}function Ct(e){if(!(e instanceof f.Api.User))return;const{id:t,firstName:n,lastName:s,fake:i,scam:a}=e,o=e.photo instanceof f.Api.UserProfilePhoto?Boolean(e.photo.hasVideo):void 0,r=e.photo instanceof f.Api.UserProfilePhoto?String(e.photo.photoId):void 0,c=(u=e).bot?"userTypeBot":u.deleted?"userTypeDeleted":"userTypeRegular";var u;return{id:z(t,"user"),isMin:Boolean(e.min),fakeType:a?"scam":i?"fake":void 0,...e.self&&{isSelf:!0},isPremium:Boolean(e.premium),...e.verified&&{isVerified:!0},...(e.contact||e.mutualContact)&&{isContact:!0},type:c,...n&&{firstName:n},..."userTypeBot"===c&&{canBeInvitedToGroup:!e.botNochats},...s&&{lastName:s},username:e.username||"",phoneNumber:e.phone||"",noStatus:!e.status,...e.accessHash&&{accessHash:String(e.accessHash)},...r&&{avatarHash:r},hasVideoAvatar:o,...e.bot&&e.botInlinePlaceholder&&{botPlaceholder:e.botInlinePlaceholder},...e.bot&&e.botAttachMenu&&{isAttachMenuBot:e.botAttachMenu}}}function Mt(e){const t={},n=[];return e.forEach((e=>{const s=Ct(e);var i;s&&(n.push(s),"status"in e&&(t[s.id]=!(i=e.status)||i instanceof f.Api.UserStatusEmpty?{type:"userStatusEmpty"}:i instanceof f.Api.UserStatusOnline?{type:"userStatusOnline",expires:i.expires}:i instanceof f.Api.UserStatusOffline?{type:"userStatusOffline",wasOnline:i.wasOnline}:i instanceof f.Api.UserStatusRecently?{type:"userStatusRecently"}:i instanceof f.Api.UserStatusLastWeek?{type:"userStatusLastWeek"}:{type:"userStatusLastMonth"}))})),{users:n,userStatusesById:t}}function Pt(e){if(e instanceof f.Api.WallPaperNoFile)return;const{slug:t}=e,n=ze(e.document);return n?{slug:t,document:n}:void 0}function kt(e){return{isCurrent:Boolean(e.current),isOfficialApp:Boolean(e.officialApp),isPasswordPending:Boolean(e.passwordPending),hash:String(e.hash),areCallsEnabled:!e.callRequestsDisabled,areSecretChatsEnabled:!e.encryptedRequestsDisabled,...g(e,["deviceModel","platform","systemVersion","appName","appVersion","dateCreated","dateActive","ip","country","region"])}}function Bt(e){return{hash:String(e.hash),botId:z(e.botId,"user"),...g(e,["platform","browser","dateCreated","dateActive","ip","region","domain"])}}function Dt(e){let t,n,s,i,a;return e.forEach((e=>{e instanceof f.Api.PrivacyValueAllowAll?t=t||"everybody":e instanceof f.Api.PrivacyValueAllowContacts?t=t||"contacts":e instanceof f.Api.PrivacyValueDisallowContacts?t=t||"nonContacts":e instanceof f.Api.PrivacyValueDisallowAll?t=t||"nobody":e instanceof f.Api.PrivacyValueAllowUsers?n=e.users.map((e=>z(e,"user"))):e instanceof f.Api.PrivacyValueDisallowUsers?i=e.users.map((e=>z(e,"user"))):e instanceof f.Api.PrivacyValueAllowChatParticipants?s=e.chats.map((e=>z(e,"chat"))):e instanceof f.Api.PrivacyValueDisallowChatParticipants&&(a=e.chats.map((e=>z(e,"chat"))))})),t||(t="nobody"),{visibility:t,allowUserIds:n||[],allowChatIds:s||[],blockUserIds:i||[],blockChatIds:a||[]}}function Rt(e,t){const{hidden:n,iso2:s,defaultName:i,name:a}=e,{countryCode:o,prefixes:r,patterns:c}=t||{};return{isHidden:n,iso2:s,defaultName:i,name:a,countryCode:o,prefixes:r,patterns:c}}function Ht(e){if(!(e instanceof f.Api.JsonNull))return e instanceof f.Api.JsonString||e instanceof f.Api.JsonBool||e instanceof f.Api.JsonNumber?e.value:e instanceof f.Api.JsonArray?e.value.map(Ht):e.value.reduce(((e,t)=>(e[t.key]=Ht(t.value),e)),{})}function Ut(e){if(e instanceof f.Api.UrlAuthResultRequest){const{bot:t,domain:n,requestWriteAccess:s}=e,i=Ct(t);if(!i)return;return Q(t),{type:"request",domain:n,shouldRequestWriteAccess:s,bot:i}}return e instanceof f.Api.UrlAuthResultAccepted?{type:"accepted",url:e.url}:e instanceof f.Api.UrlAuthResultDefault?{type:"default"}:void 0}let Tt;new Set;const Nt={};let xt;function Gt(e){Nt.resolve&&Nt.resolve(e)}function Et(e){Nt.resolve&&Nt.resolve(e)}function Ft(e){Nt.resolve&&Nt.resolve(e)}function qt(e){const{firstName:t,lastName:n}=e;Nt.resolve&&Nt.resolve([t,n])}function Ot(){Nt.reject&&Nt.reject(new Error("RESTART_AUTH"))}function _t(){Nt.reject&&Nt.reject(new Error("RESTART_AUTH_WITH_QR"))}var Lt=n(89832);const Vt=self.caches;let zt;async function Wt(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Vt)try{const i=new Request(t.replace(/:/g,"_")),a=await Vt.open(e),o=await a.match(i);if(!o)return;const r=o.headers.get("Content-Type");switch(n){case zt.Text:return await o.text();case zt.Blob:{if(t.startsWith("avatar")&&r&&r.startsWith("text"))return;const e=await o.blob(),n=!e.type||!s&&e.type.includes("html");let i=e.type||r;return n&&i?(s||(i=i.replace(/html/gi,"")),new Blob([e],{type:i})):e}case zt.Json:return await o.json();case zt.ArrayBuffer:return await o.arrayBuffer();default:return}}catch(e){return void console.warn(e)}}async function jt(e,t,n){if(Vt)try{const s="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),i=new Request(t.replace(/:/g,"_")),a=new Response(s),o=await Vt.open(e);return await o.put(i,a)}catch(e){return void console.warn(e)}}async function Jt(e,t){try{if(!Vt)return;const n=await Vt.open(e);return await n.delete(t)}catch(e){return void console.warn(e)}}async function Kt(e){try{if(!Vt)return;return await Vt.delete(e)}catch(e){return void console.warn(e)}}!function(e){e[e.Text=0]="Text",e[e.Blob=1]="Blob",e[e.Json=2]="Json",e[e.ArrayBuffer=3]="ArrayBuffer"}(zt||(zt={}));const $t=new Set(["msg","sticker","gif","wallpaper","photo","webDocument","document","videoAvatar"]);async function Qt(e,t,n,i){let{url:a,mediaFormat:o,start:r,end:c,isHtmlAllowed:u}=e;const{data:d,mimeType:l,fullSize:p}=await async function(e,t,n,s,i,a,o,r){const c=Zt(e);if(!c)return;const{entityType:u,entityId:d,sizeType:l,params:p,mediaMatchType:h}=c;if(!n)return Promise.reject(new Error("ERROR: Client is not connected"));if("staticMap"===u){const e=d,n=new URLSearchParams(p),s=n.get("long"),i=n.get("lat"),a=n.get("w"),o=n.get("h"),r=n.get("zoom"),c=n.get("scale"),u=n.get("accuracy_radius");return{mimeType:"image/png",data:await t.downloadStaticMap(e,s,i,a,o,r,c,u)}}let m;switch(u){case"channel":case"chat":m=B.chats[d];break;case"user":m=B.users[d];break;case"msg":m=B.messages[d];break;case"sticker":case"gif":case"wallpaper":case"document":m=B.documents[d];break;case"videoAvatar":case"photo":m=B.photos[d];break;case"stickerSet":m=B.stickerSets[d];break;case"webDocument":m=B.webDocuments[d]}if(m){if($t.has(u)){o===_.Stream&&(s.acceptsBuffer=!0);const e=await t.downloadMedia(m,{sizeType:l,start:i,end:a,progressCallback:s,workers:16});let n,c;return m instanceof f.Api.Message?(n=function(e,t){if(e&&e.media)return e.media instanceof f.Api.MessageMediaPhoto?"image/jpeg":e.media instanceof f.Api.MessageMediaGeo||e.media instanceof f.Api.MessageMediaVenue||e.media instanceof f.Api.MessageMediaGeoLive?"image/png":e.media instanceof f.Api.MessageMediaDocument&&e.media.document instanceof f.Api.Document?t?e.media.document.attributes.some((e=>e instanceof f.Api.DocumentAttributeSticker))?"image/webp":"image/jpeg":e.media.document.mimeType:e.media instanceof f.Api.MessageMediaWebPage&&e.media.webpage instanceof f.Api.WebPage&&e.media.webpage.document instanceof f.Api.Document?t?"image/jpeg":e.media.webpage.document.mimeType:void 0}(m,l),m.media instanceof f.Api.MessageMediaDocument&&m.media.document instanceof f.Api.Document&&(c=m.media.document.size.toJSNumber()),m.media instanceof f.Api.MessageMediaWebPage&&m.media.webpage instanceof f.Api.WebPage&&m.media.webpage.document instanceof f.Api.Document&&(c=m.media.webpage.document.size.toJSNumber())):m instanceof f.Api.Photo?n="videoAvatar"===u?"video/mp4":"image/jpeg":"sticker"===u&&l?n="image/webp":"webDocument"===u?(n=m.mimeType,c=m.size):(n=m.mimeType,c=m.size.toJSNumber()),!r&&n&&(n=n.replace(/html/gi,"")),{mimeType:n,data:e,fullSize:c}}if("stickerSet"===u){const e=await t.downloadStickerSetThumb(m);return{mimeType:Yt(e),data:e}}{const e=await t.downloadProfilePhoto(m,"profile"===h);return{mimeType:Yt(e),data:e}}}}(a,t,n,i,r,c,o,u)||{};if(!d)return;const h=await async function(e,t,n){switch(t){case _.BlobUrl:return new Blob([e],{type:n});case _.Text:return e.toString();case _.Progressive:return e.buffer}}(d,o,l);if(!h)return;const m=o!==_.Progressive&&(o!==_.BlobUrl||h.size<=524288);return s&&m&&jt(a.startsWith("avatar")?"tt-media-avatars":"tt-media",a,h),{prepared:o===_.Progressive?"":(g=h,g instanceof Blob?URL.createObjectURL(g):g),arrayBuffer:o===_.Progressive?h:void 0,mimeType:l,fullSize:p};var g}function Yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg";if(e.length<4)return t;let n=t;const s=e.subarray(0,4).reduce(((e,t)=>e+t.toString(16)),"");switch(s){case"89504e47":n="image/png";break;case"47494638":n="image/gif";break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":n="image/jpeg";break;case"52494646":n="image/webp"}return n}function Zt(e){const t=e.startsWith("staticMap")?e.match(/(staticMap):([0-9-]+)(\?.+)/):e.startsWith("webDocument")?e.match(/(webDocument):(.+)/):e.match(/(avatar|profile|photo|msg|stickerSet|sticker|wallpaper|gif|document|videoAvatar)([-\d\w./]+)(?::\d+)?(\?size=\w+)?/);if(!t)return;const n=t[1],s=t[2];let i;const a=t[3],o=(null==a?void 0:a.replace("?size=",""))||void 0;return i="avatar"===t[1]||"profile"===t[1]?ee(s):t[1],{mediaMatchType:n,entityType:i,entityId:s,sizeType:o,params:a}}Lt.Logger.setLevel("warn");let Xt;async function en(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||await sn(new f.Api.auth.LogOut),D(),await Xt.destroy()}async function tn(){await Xt.disconnect()}async function nn(e){}async function sn(e){}function an(e,t){return Qt(e,Xt,false,t).catch((async n=>{if(n.message.startsWith("FILE_REFERENCE"))return await un({url:e.url})?Qt(e,Xt,false,t):void 0}))}function on(e,t){return Xt.uploadFile({file:e,onProgress:t,workers:16})}function rn(e){return Xt.updateTwoFaSettings(e)}async function cn(){const e=await sn(new f.Api.users.GetFullUser({id:new f.Api.InputUserSelf}));if(!(e&&e.users[0]instanceof f.Api.User))return;const t=e.users[0];t.photo instanceof f.Api.Photo&&(B.photos[t.photo.id.toString()]=t.photo),B.users[z(t.id,"user")]=t;const n=bt(e);var s;s=n.id,Ne=s,function(e){xt({"@type":"updateCurrentUser",currentUser:e})}(n)}async function un(e){let{url:t}=e;const n=Zt(t);if(!n)return;const{entityType:s,entityId:i,mediaMatchType:a}=n;if("file"===a)return!1;if("msg"===s){const e=B.messages[i],t=e.id,n="channelId"in e.peerId?new f.Api.InputChannel({channelId:e.peerId.channelId,accessHash:B.chats[z(e.peerId.channelId,"channel")].accessHash}):void 0,s=await sn(n?new f.Api.channels.GetMessages({channel:n,id:[new f.Api.InputMessageID({id:t})]}):new f.Api.messages.GetMessages({id:[new f.Api.InputMessageID({id:t})]}));if(!s||s instanceof f.Api.messages.MessagesNotModified)return!1;const a=s.messages[0];return!(a instanceof f.Api.MessageEmpty||(K(a),0))}return!1}const dn=2**31-1;let ln;async function pn(e){let{limit:t,offsetDate:n,archived:s,withPinned:i,serverTimeOffset:a,lastLocalServiceMessage:o}=e;const r=await sn(new f.Api.messages.GetDialogs({offsetPeer:new f.Api.InputPeerEmpty,limit:t,offsetDate:n,folderId:s?1:void 0,...i&&{excludePinned:!0}})),c=i?await sn(new f.Api.messages.GetPinnedDialogs({folderId:s?1:void 0})):void 0;if(!r||r instanceof f.Api.messages.DialogsNotModified)return;c&&ns(c),ns(r);const u=m((c?c.messages:[]).concat(r.messages).map(Ge).filter(Boolean),"chatId"),l={...c&&ts(c),...ts(r)},p=[],h={},g={},A=(c?c.dialogs:[]).concat(r.dialogs),w=[];A.forEach((e=>{if(!(e instanceof f.Api.Dialog)||!s&&1===e.folderId||s&&1!==e.folderId)return;const t=nt(e,l[ct(e.peer)],a);if(t.id===d&&o&&(!u[t.id]||o.date>u[t.id].date)?t.lastMessage=o:t.lastMessage=u[t.id],t.isListed=!0,p.push(t),i&&e.pinned&&w.push(t.id),e.draft){const{formattedText:n,replyingToId:s}=function(e){if(e instanceof f.Api.DraftMessageEmpty)return;const{message:t,entities:n,replyToMsgId:s,date:i}=e;return{formattedText:t?_e(t,n):void 0,replyingToId:s,date:i}}(e.draft)||{};n&&(h[t.id]=n),s&&(g[t.id]=s)}}));const y=p.map((e=>e.id)),{users:v,userStatusesById:I}=Mt(((null==c?void 0:c.users)||[]).concat(r.users));let S;return S=r instanceof f.Api.messages.DialogsSlice?r.count:y.length,{chatIds:y,chats:p,users:v,userStatusesById:I,draftsById:h,replyingToById:g,orderedPinnedIds:i?w:void 0,totalChatCount:S}}function hn(e){const{id:t,accessHash:n,adminRights:s}=e;return se(t,n)instanceof f.Api.InputChannel?async function(e,t,n){var s;const i=await sn(new f.Api.channels.GetFullChannel({channel:se(e,t)}));if(!(i&&i.fullChat instanceof f.Api.ChannelFull))return;const{about:a,onlineCount:o,exportedInvite:r,slowmodeSeconds:c,slowmodeNextSendDate:u,migratedFromChatId:d,migratedFromMaxId:l,canViewParticipants:p,canViewStats:h,linkedChatId:m,hiddenPrehistory:g,call:A,botInfo:w,availableReactions:y,defaultSendAs:v,requestsPending:I,recentRequesters:S,statsDc:C,participantsCount:M,stickerset:P,chatPhoto:k}=i.fullChat;k instanceof f.Api.Photo&&(B.photos[k.id.toString()]=k);const D=r instanceof f.Api.ChatInviteExported?r.link:void 0,{members:R,users:H,userStatusesById:U}=p&&await jn(e,t)||{},{members:N,users:x,userStatusesById:G}=p&&n&&await jn(e,t,"kicked")||{},{members:E,users:F,userStatusesById:q}=p&&n&&await jn(e,t,"admin")||{},O=w?gt(w):void 0;if((null==i||null===(s=i.chats)||void 0===s?void 0:s.length)>1){ns(i);const[,e]=i.chats,t=ot(e,void 0,!0);t&&ln({"@type":"updateChat",id:t.id,chat:t})}const _={...U,...G,...q};return{fullInfo:{...k instanceof f.Api.Photo&&{profilePhoto:b(k)},about:a,onlineCount:o,inviteLink:D,slowMode:c?{seconds:c,nextSendDate:u}:void 0,migratedFrom:d?{chatId:z(d,"chat"),maxMessageId:l}:void 0,canViewMembers:p,canViewStatistics:h,isPreHistoryHidden:g,members:R,kickedMembers:N,adminMembers:E,groupCallId:A?String(A.id):void 0,linkedChatId:m?z(m,"chat"):void 0,botCommands:O,enabledReactions:y,sendAsId:v?W(v):void 0,requestsPending:I,recentRequesterIds:null==S?void 0:S.map((e=>z(e,"user"))),statisticsDcId:C,stickerSet:P?T(P):void 0},users:[...H||[],...x||[],...F||[]],userStatusesById:_,groupCall:A?{chatId:e,isLoaded:!1,id:A.id.toString(),accessHash:null==A?void 0:A.accessHash.toString(),participants:{},version:0,participantsCount:0,connectionState:"disconnected"}:void 0,membersCount:M}}(t,n,s):async function(e){const t=await sn(new f.Api.messages.GetFullChat({chatId:se(e)}));if(!(t&&t.fullChat instanceof f.Api.ChatFull))return;ns(t);const{about:n,participants:s,exportedInvite:i,botInfo:a,call:o,availableReactions:r,recentRequesters:c,requestsPending:u,chatPhoto:d}=t.fullChat;d instanceof f.Api.Photo&&(B.photos[d.id.toString()]=d);const l=ht(s),p=l?l.filter((e=>{let{isAdmin:t,isOwner:n}=e;return t||n})):void 0,h=a?gt(a):void 0,{users:m,userStatusesById:g}=Mt(t.users);return{fullInfo:{...d instanceof f.Api.Photo&&{profilePhoto:b(d)},about:n,members:l,adminMembers:p,canViewMembers:!0,botCommands:h,...i instanceof f.Api.ChatInviteExported&&{inviteLink:i.link},groupCallId:null==o?void 0:o.id.toString(),enabledReactions:r,requestsPending:u,recentRequesterIds:null==c?void 0:c.map((e=>z(e,"user")))},users:m,userStatusesById:g,groupCall:o?{chatId:e,isLoaded:!1,id:o.id.toString(),accessHash:o.accessHash.toString(),connectionState:"disconnected",participantsCount:0,version:0,participants:{}}:void 0,membersCount:null==l?void 0:l.length}}(t)}async function fn(e){const{id:t,accessHash:n}=e,s=await sn(new f.Api.messages.GetPeerSettings({peer:te(t,n)}));if(s)return function(e){let{autoarchived:t,reportSpam:n,addContact:s,blockContact:i}=e;return{isAutoArchived:Boolean(t),canReportSpam:Boolean(n),canAddContact:Boolean(s),canBlockContact:Boolean(i)}}(s.settings)}async function mn(e){let{query:t}=e;const n=await sn(new f.Api.contacts.Search({q:t}));if(!n)return;ns(n);const s=n.myResults.map(W),i=n.chats.concat(n.users).map((e=>ot(e))).filter(Boolean),a=n.users.map(Ct).filter((e=>Boolean(e)&&!e.isSelf));return{localChats:i.filter((e=>s.includes(e.id))),localUsers:a.filter((e=>s.includes(e.id))),globalChats:i.filter((e=>!s.includes(e.id))),globalUsers:a.filter((e=>!s.includes(e.id)))}}async function gn(e){let t,{type:n,user:s}=e;if("self"===n||"user"===n){const e=await sn(new f.Api.users.GetUsers({id:["user"===n&&s?se(s.id,s.accessHash):new f.Api.InputUserSelf]}));if(!e||!e.length)return;[t]=e}else if("support"===n){const e=await sn(new f.Api.help.GetSupport);if(!e||!e.user)return;t=e.user}const i=ot(t,"support"===n);if(i)return ln({"@type":"updateChat",id:i.id,chat:i}),{chatId:i.id}}async function An(e){let{chat:t,serverTimeOffset:n,lastLocalMessage:s,noLastMessage:i}=e;const{id:a,accessHash:o}=t,r=await sn(new f.Api.messages.GetPeerDialogs({peers:[new f.Api.InputDialogPeer({peer:te(a,o)})]}));if(!r)return;const c=r.dialogs[0];if(!(c&&c instanceof f.Api.Dialog))return;const u=ts(r)[ct(c.peer)];if(!u)return;ns(r);const d=Ge(r.messages[0]),l=s&&(!d||s.date>d.date)?s:d;ln({"@type":"updateChat",id:a,chat:{...nt(c,u,n),...!i&&{lastMessage:l}}})}function wn(e){let{chat:t,text:n,entities:s,replyToMsgId:i}=e;return sn(new f.Api.messages.SaveDraft({peer:te(t.id,t.accessHash),message:n,...s&&{entities:s.map(ue)},replyToMsgId:i}))}function yn(e){return sn(new f.Api.messages.SaveDraft({peer:te(e.id,e.accessHash),message:""}))}async function vn(e){let{chat:t,isMuted:n,serverTimeOffset:s}=e;await sn(new f.Api.account.UpdateNotifySettings({peer:new f.Api.InputNotifyPeer({peer:te(t.id,t.accessHash)}),settings:new f.Api.InputPeerNotifySettings({muteUntil:n?dn:0})})),ln({"@type":"updateNotifyExceptions",chatId:t.id,isMuted:n}),An({chat:t,serverTimeOffset:s,noLastMessage:!0})}async function In(e){let{title:t,about:n="",users:s}=e;const i=await sn(new f.Api.channels.CreateChannel({broadcast:!0,title:t,about:n}));if(!(i instanceof f.Api.Updates))return;const a=i.chats[0];if(!(a&&a instanceof f.Api.Channel))return;const o=ot(a);if(null!=s&&s.length)try{await sn(new f.Api.channels.InviteToChannel({channel:se(o.id,o.accessHash),users:s.map((e=>{let{id:t,accessHash:n}=e;return se(t,n)}))}))}catch(e){}return o}function Sn(e){let{channelId:t,accessHash:n}=e;return sn(new f.Api.channels.JoinChannel({channel:se(t,n)}))}function bn(e){let{chat:t,user:n}=e;if("chatTypeBasicGroup"===t.type)return sn(new f.Api.messages.DeleteChatUser({chatId:se(t.id,t.accessHash),userId:se(n.id,n.accessHash)}))}function Cn(e){let{chatId:t}=e;return sn(new f.Api.messages.DeleteChat({chatId:se(t)}))}function Mn(e){let{channelId:t,accessHash:n}=e;return sn(new f.Api.channels.LeaveChannel({channel:se(t,n)}))}function Pn(e){let{channelId:t,accessHash:n}=e;return sn(new f.Api.channels.DeleteChannel({channel:se(t,n)}))}async function kn(e){let{title:t,users:n}=e;const s=await sn(new f.Api.messages.CreateChat({title:t,users:n.map((e=>{let{id:t,accessHash:n}=e;return se(t,n)}))}));if(!(s instanceof f.Api.Updates))return;const i=s.chats[0];return i&&i instanceof f.Api.Chat?ot(i):void 0}async function Bn(e){let{chatId:t,accessHash:n,photo:s}=e;const i=await on(s),a=se(t,n);return sn(a instanceof f.Api.InputChannel?new f.Api.channels.EditPhoto({channel:a,photo:new f.Api.InputChatUploadedPhoto({file:i})}):new f.Api.messages.EditChatPhoto({chatId:a,photo:new f.Api.InputChatUploadedPhoto({file:i})}))}async function Dn(e){let{chat:t,shouldBePinned:n}=e;const{id:s,accessHash:i}=t;await sn(new f.Api.messages.ToggleDialogPin({peer:new f.Api.InputDialogPeer({peer:te(s,i)}),pinned:n||void 0}))&&ln({"@type":"updateChatPinned",id:t.id,isPinned:n})}function Rn(e){let{chat:t,folderId:n}=e;const{id:s,accessHash:i}=t;return sn(new f.Api.folders.EditPeerFolders({folderPeers:[new f.Api.InputFolderPeer({peer:te(s,i),folderId:n})]}))}async function Hn(){const e=await sn(new f.Api.messages.GetDialogFilters);if(!e)return;const t=e.findIndex((e=>e instanceof f.Api.DialogFilterDefault)),n=e.filter((e=>e instanceof f.Api.DialogFilter)),s=n.map((e=>{let{id:t}=e;return t}));return-1!==t&&s.splice(t,0,0),{byId:m(n.map(ft),"id"),orderedIds:s}}async function Un(){const e=await sn(new f.Api.messages.GetSuggestedDialogFilters);if(e)return e.map(mt).filter(Boolean)}async function Tn(e){let{id:t,folderUpdate:n}=e;const s=function(e){const{emoticon:t,contacts:n,nonContacts:s,groups:i,channels:a,bots:o,excludeArchived:r,excludeMuted:c,excludeRead:u,pinnedChatIds:d,includedChatIds:l,excludedChatIds:p}=e,h=d?d.map(ne).filter(Boolean):[],m=l?l.map(ne).filter(Boolean):[],g=p?p.map(ne).filter(Boolean):[];return new f.Api.DialogFilter({id:e.id,title:e.title,emoticon:t||void 0,contacts:n||void 0,nonContacts:s||void 0,groups:i||void 0,bots:o||void 0,excludeArchived:r||void 0,excludeMuted:c||void 0,excludeRead:u||void 0,broadcasts:a||void 0,pinnedPeers:h,includePeers:m,excludePeers:g})}(n);await sn(new f.Api.messages.UpdateDialogFilter({id:t,filter:s}))&&ln({"@type":"updateChatFolder",id:t,folder:n})}async function Nn(e){const t=await sn(new f.Api.messages.UpdateDialogFilter({id:e,filter:void 0})),n=await Un();t&&ln({"@type":"updateChatFolder",id:e,folder:void 0}),n&&ln({"@type":"updateRecommendedChatFolders",folders:n})}async function xn(e){let{chat:t,hasUnreadMark:n}=e;const{id:s,accessHash:i}=t;await sn(new f.Api.messages.MarkDialogUnread({peer:new f.Api.InputDialogPeer({peer:te(s,i)}),unread:n||void 0}))&&ln({"@type":"updateChat",id:t.id,chat:{hasUnreadMark:n}})}async function Gn(e){return Fn(await sn(new f.Api.contacts.ResolvePhone({phone:e})))}async function En(e){return Fn(await sn(new f.Api.contacts.ResolveUsername({username:e})))}function Fn(e){if(!e)return;const{users:t,chats:n}=e,s=n.length?ot(n[0]):ot(t[0]);return s?(ns(e),s):void 0}function qn(e){let{chat:t,isEnabled:n}=e;const{id:s,accessHash:i}=t,a=se(s,i);return sn(new f.Api.channels.TogglePreHistoryHidden({channel:a,enabled:n}))}function On(e){let{chat:t,bannedRights:n}=e;const{id:s,accessHash:i}=t,a=te(s,i);return sn(new f.Api.messages.EditChatDefaultBannedRights({peer:a,bannedRights:pe(n)}))}function _n(e){let{chat:t,user:n,bannedRights:s,untilDate:i}=e;const a=se(t.id,t.accessHash),o=te(n.id,n.accessHash);return sn(new f.Api.channels.EditBanned({channel:a,participant:o,bannedRights:pe(s,i)}))}function Ln(e){let{chat:t,user:n,adminRights:s,customTitle:i=""}=e;const a=se(t.id,t.accessHash),o=se(n.id,n.accessHash);return sn(new f.Api.channels.EditAdmin({channel:a,userId:o,adminRights:he(s),rank:i}))}async function Vn(e,t){const n=se(e.id,e.accessHash);await sn(n instanceof f.Api.InputChannel?new f.Api.channels.EditTitle({channel:n,title:t}):new f.Api.messages.EditChatTitle({chatId:n,title:t}))}async function zn(e,t){await sn(new f.Api.messages.EditChatAbout({peer:te(e.id,e.accessHash),about:t}))&&ln({"@type":"updateChatFullInfo",id:e.id,fullInfo:{about:t}})}function Wn(e){let{chat:t,isEnabled:n}=e;const{id:s,accessHash:i}=t,a=se(s,i);return sn(new f.Api.channels.ToggleSignatures({channel:a,enabled:n}))}async function jn(e,t){let n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"recent",i=arguments.length>3?arguments[3]:void 0;switch(s){case"kicked":n=new f.Api.ChannelParticipantsKicked({q:""});break;case"admin":n=new f.Api.ChannelParticipantsAdmins;break;default:n=new f.Api.ChannelParticipantsRecent}const a=await sn(new f.Api.channels.GetParticipants({channel:se(e,t),filter:n,offset:i,limit:200}));if(!a||a instanceof f.Api.channels.ChannelParticipantsNotModified)return;ns(a);const{users:o,userStatusesById:r}=Mt(a.users);return{members:ht(a),users:o,userStatusesById:r}}async function Jn(){const e=await sn(new f.Api.channels.GetGroupsForDiscussion);if(e)return ns(e),e.chats.map((e=>ot(e)))}function Kn(e){let{channel:t,chat:n}=e;return sn(new f.Api.channels.SetDiscussionGroup({broadcast:te(t.id,t.accessHash),group:n?te(n.id,n.accessHash):new f.Api.InputChannelEmpty}))}async function $n(e){const t=await sn(new f.Api.messages.MigrateChat({chatId:se(e.id)}));if(t&&t instanceof f.Api.Updates)return ns(t),ot(t.chats[1])}async function Qn(e){const t=await sn(new f.Api.messages.CheckChatInvite({hash:e}));if(!t)return;let n;if(t instanceof f.Api.ChatInvite){const{photo:n,participantsCount:s,title:i,channel:a,requestNeeded:o,about:r,megagroup:c}=t;n instanceof f.Api.Photo&&$(t.photo),ln({"@type":"showInvite",data:{title:i,about:r,hash:e,participantsCount:s,isChannel:a&&!c,isRequestNeeded:o,...n instanceof f.Api.Photo&&{photo:b(n)}}})}else n=ot(t.chat),n&&ln({"@type":"updateChat",id:n.id,chat:n});return n?{chatId:n.id}:void 0}async function Yn(e,t){try{return"chatTypeChannel"===e.type||"chatTypeSuperGroup"===e.type?await sn(new f.Api.channels.InviteToChannel({channel:se(e.id,e.accessHash),users:t.map((e=>se(e.id,e.accessHash)))})):await Promise.all(t.map((t=>sn(new f.Api.messages.AddChatUser({chatId:se(e.id),userId:se(t.id,t.accessHash)})))))}catch(e){return}}function Zn(e,t){return"chatTypeChannel"===e.type||"chatTypeSuperGroup"===e.type?_n({chat:e,user:t,bannedRights:{viewMessages:!0,sendMessages:!0,sendMedia:!0,sendStickers:!0,sendGifs:!0,sendGames:!0,sendInline:!0,embedLinks:!0,sendPolls:!0,changeInfo:!0,inviteUsers:!0,pinMessages:!0},untilDate:dn}):sn(new f.Api.messages.DeleteChatUser({chatId:se(e.id),userId:se(t.id,t.accessHash)}))}function Xn(e,t){return sn(new f.Api.channels.ToggleJoinToSend({channel:se(e.id,e.accessHash),enabled:t}))}function es(e,t){return sn(new f.Api.channels.ToggleJoinRequest({channel:se(e.id,e.accessHash),enabled:t}))}function ts(e){const t={};return e.chats.forEach((e=>{t[`chat${e.id}`]=e})),e.users.forEach((e=>{t[`user${e.id}`]=e})),t}function ns(e){"users"in e&&Y(e.users),"chats"in e&&Y(e.chats),"messages"in e&&e.messages.forEach((e=>{e instanceof f.Api.Message&&de(e)&&K(e)}))}async function ss(e){let{hash:t}=e;const n=await sn(new f.Api.messages.ImportChatInvite({hash:t}));if(n instanceof f.Api.Updates&&n.chats.length)return ot(n.chats[0])}function is(e){let{chat:t,enabledReactions:n}=e;return sn(new f.Api.messages.SetChatAvailableReactions({peer:te(t.id,t.accessHash),availableReactions:n}))}function as(e){let{chat:t,isProtected:n}=e;const{id:s,accessHash:i}=t;return sn(new f.Api.messages.ToggleNoForwards({peer:te(s,i),enabled:n}))}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function rs(e,t){const n=await async function(e){return(await fetch(e)).blob()}(e);return function(e,t){return new File([e],t,{lastModified:Date.now(),type:e.type})}(n,t)}"undefined"==typeof File&&(self.File=class extends Blob{constructor(e,t,n){if(n){const{type:t,...s}=n;super(e,{type:t}),os(this,"name",void 0),Object.assign(this,s)}else super(e),os(this,"name",void 0);this.name=t}});var cs=n(48764).Buffer;let us;async function ds(e){let{chat:t,threadId:n,...s}=e;const i=-1===n?f.Api.messages.GetHistory:f.Api.messages.GetReplies;let a;try{a=await sn(new i({peer:te(t.id,t.accessHash),...-1!==n&&{msgId:n},...s}))}catch(e){"CHANNEL_PRIVATE"===e.message&&us({"@type":"updateChat",id:t.id,chat:{isRestricted:!0}})}if(!a||a instanceof f.Api.messages.MessagesNotModified||!a.messages)return;Fs(a);const o=a.messages.map(Ge).filter(Boolean),r=a.users.map(Ct).filter(Boolean),c=a.chats.map((e=>ot(e))).filter(Boolean),u=o.map((e=>{let{threadInfo:t}=e;return t})).filter(Boolean);return{messages:o,users:r,chats:c,threadInfos:u}}async function ls(e){let{chat:t,messageId:n}=e;const s="channel"===ee(t.id);let i;try{i=await sn(s?new f.Api.channels.GetMessages({channel:se(t.id,t.accessHash),id:[new f.Api.InputMessageID({id:n})]}):new f.Api.messages.GetMessages({id:[new f.Api.InputMessageID({id:n})]}))}catch(e){const{message:t}=e;"CHANNEL_PRIVATE"!==t&&us({"@type":"error",error:{message:t,isSlowMode:!1,hasErrorKey:!0}})}if(!i||i instanceof f.Api.messages.MessagesNotModified)return;const a=i.messages[0];if(!a)return;if(a instanceof f.Api.MessageEmpty)return"MESSAGE_DELETED";const o=a&&Ge(a);return o?(a instanceof f.Api.Message&&K(a),{message:o,users:i.users.map(Ct).filter(Boolean)}):void 0}let ps=Promise.resolve();function hs(e,t){let{chat:n,text:s,entities:i,replyingTo:a,replyingToTopId:o,attachment:u,sticker:d,gif:l,poll:p,contact:h,isSilent:m,scheduledAt:g,groupedId:A,noWebPage:w,sendAs:y,serverTimeOffset:v}=e;const I=function(e,t,n,s,i,a,o,r,c,u,d,l,p){let h=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0;const f=Te(),m=a&&$e(a),g="chatTypeChannel"===e.type;return{id:f,chatId:e.id,content:{...t&&{text:{text:t,entities:n}},...m,...o&&{sticker:o},...r&&{video:r},...c&&Ye(c,f),...u&&{contact:u}},date:l||Math.round(Date.now()/1e3)+h,isOutgoing:!g,senderId:(null==p?void 0:p.id)||Ne,...s&&{replyToMessageId:s},...i&&{replyToTopMessageId:i},...d&&{groupedId:d,...m&&(m.photo||m.video)&&{isInAlbum:!0}},...l&&{isScheduled:!0}}}(n,s,i,a,o,u,d,l,p,h,A,g,y,v);us({"@type":I.isScheduled?"newScheduledMessage":"newMessage",id:I.id,chatId:n.id,message:{...I,sendingState:"messageSendingStatePending"}}),setTimeout((()=>{}),1e3);const S=re();return B.localMessages[String(S)]=I,A?function(e,t,n,s){let{chat:i,text:a,entities:o,replyingTo:u,attachment:d,groupedId:l,isSilent:p,scheduledAt:h,sendAs:m}=e,g=-1;ms[l]||(ms[l]={counter:0,singleMediaByIndex:{}}),g=ms[l].counter++;const A=ps;return ps=(async()=>{let e;try{e=await async function(e,t,n){const{filename:s,blobUrl:i,mimeType:a,quick:o,voice:u,audio:d,previewBlobUrl:l}=t,p=t=>{n.isCanceled?p.isCanceled=!0:n(t,e.id)},h=await rs(i,s),m=await on(h,p),g=l&&await rs(l,s),A=g?await on(g):void 0,w=[new f.Api.DocumentAttributeFilename({fileName:s})];if(o){if(r.has(a))return new f.Api.InputMediaUploadedPhoto({file:m});if(c.has(a)){const{width:e,height:t,duration:n}=o;void 0!==n&&w.push(new f.Api.DocumentAttributeVideo({duration:n,w:e,h:t,supportsStreaming:!0}))}}if(d){const{duration:e,title:t,performer:n}=d;w.push(new f.Api.DocumentAttributeAudio({duration:e,title:t,performer:n}))}if(u){const{duration:e,waveform:t}=u,{data:n}=x(t,63);w.push(new f.Api.DocumentAttributeAudio({voice:!0,duration:e,waveform:cs.from(n)}))}return new f.Api.InputMediaUploadedDocument({file:m,mimeType:a,attributes:w,thumb:A})}(n,d,s)}catch(e){return ms[l].counter--,void await A}const w=await async function(e,t){const n=await sn(new f.Api.messages.UploadMedia({peer:e,media:t}));if(n instanceof f.Api.MessageMediaPhoto&&n.photo&&n.photo instanceof f.Api.Photo){const{photo:{id:e,accessHash:t,fileReference:s}}=n;return new f.Api.InputMediaPhoto({id:new f.Api.InputPhoto({id:e,accessHash:t,fileReference:s})})}if(n instanceof f.Api.MessageMediaDocument&&n.document&&n.document instanceof f.Api.Document){const{document:{id:e,accessHash:t,fileReference:s}}=n;return new f.Api.InputMediaDocument({id:new f.Api.InputDocument({id:e,accessHash:t,fileReference:s})})}}(te(i.id,i.accessHash),e);if(await A,!w)return void ms[l].counter--;if(ms[l].singleMediaByIndex[g]=new f.Api.InputSingleMedia({media:w,randomId:t,message:a||"",entities:o?o.map(ue):void 0}),Object.keys(ms[l].singleMediaByIndex).length<ms[l].counter)return;const{singleMediaByIndex:y}=ms[l];delete ms[l],await sn(new f.Api.messages.SendMultiMedia({clearDraft:!0,peer:te(i.id,i.accessHash),multiMedia:Object.values(y),replyToMsgId:u,...p&&{silent:p},...h&&{scheduleDate:h},...m&&{sendAs:te(m.id,m.accessHash)}}))})(),ps}({chat:n,text:s,entities:i,replyingTo:a,attachment:u,groupedId:A,isSilent:m,scheduledAt:g},S,I,t):I}function fs(e){let{chatId:t,localMessageId:n,localMessageIsScheduled:s,localMessageIsSendOk:i}=e;us({"@type":s?"newScheduledMessage":"newMessage",id:n,chatId:t,message:{sendingState:i?void 0:"messageSendingStateFailed"}})}const ms={};async function gs(e){let{chat:t,message:n,text:s,entities:i,noWebPage:a,serverTimeOffset:o}=e;const r=1e3*n.date>Date.now()+1e3*o,c={content:{...n.content,...s&&{text:{text:s,entities:i}}}};us({"@type":r?"updateScheduledMessage":"updateMessage",id:n.id,chatId:t.id,message:c}),B.localMessages[n.id]={...n,...c};const u=i&&i.map(ue);await sn(new f.Api.messages.EditMessage({message:s||"",entities:u,peer:te(t.id,t.accessHash),id:n.id,...r&&{scheduleDate:n.date},...a&&{noWebpage:a}}))}async function As(e){let{chat:t,message:n,scheduledAt:s}=e;await sn(new f.Api.messages.EditMessage({peer:te(t.id,t.accessHash),id:n.id,scheduleDate:s}))}async function ws(e){let{chat:t,messageId:n,isUnpin:s,isOneSide:i,isSilent:a}=e;await sn(new f.Api.messages.UpdatePinnedMessage({peer:te(t.id,t.accessHash),id:n,...s&&{unpin:!0},...i&&{pmOneside:!0},...a&&{silent:!0}}))}async function ys(e){let{chat:t}=e;await sn(new f.Api.messages.UnpinAllMessages({peer:te(t.id,t.accessHash)}))}async function vs(e){let{chat:t,messageIds:n,shouldDeleteForAll:s}=e;const i="channel"===ee(t.id);await sn(i?new f.Api.channels.DeleteMessages({channel:se(t.id,t.accessHash),id:n}):new f.Api.messages.DeleteMessages({id:n,...s&&{revoke:!0}}))&&us({"@type":"deleteMessages",ids:n,...i&&{chatId:t.id}})}async function Is(e){let{chat:t,messageIds:n}=e;await sn(new f.Api.messages.DeleteScheduledMessages({peer:te(t.id,t.accessHash),id:n}))&&us({"@type":"deleteScheduledMessages",ids:n,chatId:t.id})}async function Ss(e){let{chat:t,shouldDeleteForAll:n,maxId:s}=e;const i="channel"===ee(t.id);await sn(i?new f.Api.channels.DeleteHistory({channel:se(t.id,t.accessHash),maxId:s}):new f.Api.messages.DeleteHistory({peer:te(t.id,t.accessHash),...n&&{revoke:!0},...!n&&{just_clear:!0},maxId:s}))&&us({"@type":"deleteHistory",chatId:t.id})}async function bs(e){let{peer:t,messageIds:n,reason:s,description:i}=e;return await sn(new f.Api.messages.Report({peer:te(t.id,t.accessHash),id:n,reason:ge(s),message:i}))}async function Cs(e){let{peer:t,threadId:n,action:s}=e;const i=function(e){switch(e.type){case"cancel":return new f.Api.SendMessageCancelAction;case"typing":return new f.Api.SendMessageTypingAction;case"recordAudio":return new f.Api.SendMessageRecordAudioAction;case"chooseSticker":return new f.Api.SendMessageChooseStickerAction;case"playingGame":return new f.Api.SendMessageGamePlayAction}}(s);if(i)return await sn(new f.Api.messages.SetTyping({peer:te(t.id,t.accessHash),topMsgId:n,action:i}))}async function Ms(e){let{chat:t,threadId:n,maxId:s,serverTimeOffset:i}=e;const a="channel"===ee(t.id);a&&-1===n?await sn(new f.Api.channels.ReadHistory({channel:se(t.id,t.accessHash),maxId:s})):a?await sn(new f.Api.messages.ReadDiscussion({peer:te(t.id,t.accessHash),msgId:n,readMaxId:s})):await sn(new f.Api.messages.ReadHistory({peer:te(t.id,t.accessHash),maxId:s})),-1===n?An({chat:t,serverTimeOffset:i,noLastMessage:!0}):ks({chat:t,threadId:n})}async function Ps(e){let{chat:t,messageIds:n}=e;const s="channel"===ee(t.id);await sn(s?new f.Api.channels.ReadMessageContents({channel:se(t.id,t.accessHash),id:n}):new f.Api.messages.ReadMessageContents({id:n})),us({...s?{"@type":"updateChannelMessages",channelId:t.id}:{"@type":"updateCommonBoxMessages"},ids:n,messageUpdate:{hasUnreadMention:!1,isMediaUnread:!1}})}async function ks(e){let{chat:t,threadId:n}=e;const[s,i]=await Promise.all([sn(new f.Api.messages.GetDiscussionMessage({peer:te(t.id,t.accessHash),msgId:n})),sn(new f.Api.messages.GetReplies({peer:te(t.id,t.accessHash),msgId:n,offsetId:1,addOffset:-1,limit:1}))]);if(!s||!s.messages.length)return;const a=J(s.messages[0]);return a?(us({"@type":"updateThreadInfo",chatId:a,threadId:n,threadInfo:{threadId:n,topMessageId:s.messages[s.messages.length-1].id,lastReadInboxMessageId:s.readInboxMaxId,messagesCount:i instanceof f.Api.messages.ChannelMessages?i.count:void 0},firstMessageId:i&&"messages"in i&&i.messages.length?i.messages[0].id:void 0}),s.chats.map((e=>ot(e))).filter(Boolean).forEach((e=>{us({"@type":"updateChat",id:e.id,chat:e,noTopChatsRequest:!0})})),{discussionChatId:a}):void 0}async function Bs(e){let t,{chat:n,type:s,query:i,topMessageId:a,minDate:o,maxDate:r,...c}=e;switch(s){case"media":t=new f.Api.InputMessagesFilterPhotoVideo;break;case"documents":t=new f.Api.InputMessagesFilterDocument;break;case"links":t=new f.Api.InputMessagesFilterUrl;break;case"audio":t=new f.Api.InputMessagesFilterMusic;break;case"voice":t=new f.Api.InputMessagesFilterRoundVoice;break;case"profilePhoto":t=new f.Api.InputMessagesFilterChatPhotos;break;default:t=new f.Api.InputMessagesFilterEmpty}const u=await sn(new f.Api.messages.Search({peer:te(n.id,n.accessHash),filter:t,q:i||"",topMsgId:a,minDate:o,maxDate:r,...c}));if(!u||u instanceof f.Api.messages.MessagesNotModified||!u.messages)return;Fs(u);const d=u.chats.map((e=>ot(e))).filter(Boolean),l=u.users.map(Ct).filter(Boolean),p=u.messages.map(Ge).filter(Boolean);let h,m=p.length;return(u instanceof f.Api.messages.MessagesSlice||u instanceof f.Api.messages.ChannelMessages)&&(m=u.count,p.length&&(h=p[p.length-1].id)),{chats:d,users:l,messages:p,totalCount:m,nextOffsetId:h}}async function Ds(e){let t,{query:n,offsetRate:s=0,limit:i,type:a="text",minDate:o,maxDate:r}=e;switch(a){case"media":t=new f.Api.InputMessagesFilterPhotoVideo;break;case"documents":t=new f.Api.InputMessagesFilterDocument;break;case"links":t=new f.Api.InputMessagesFilterUrl;break;case"audio":t=new f.Api.InputMessagesFilterMusic;break;case"voice":t=new f.Api.InputMessagesFilterRoundVoice;break;default:if(!(n||r&&o))return;t=new f.Api.InputMessagesFilterEmpty}const c=await sn(new f.Api.messages.SearchGlobal({q:n,offsetRate:s,offsetPeer:new f.Api.InputPeerEmpty,limit:i,filter:t,folderId:0,minDate:o,maxDate:r}));if(!c||c instanceof f.Api.messages.MessagesNotModified||!c.messages)return;Fs({chats:c.chats,users:c.users,messages:c.messages});const u=c.chats.map((e=>ot(e))).filter(Boolean),d=c.users.map(Ct).filter(Boolean),l=c.messages.map(Ge).filter(Boolean);let p,h=l.length;return(c instanceof f.Api.messages.MessagesSlice||c instanceof f.Api.messages.ChannelMessages)&&(h=c.count,l.length&&(p=l[l.length-1].id)),{messages:l,users:d,chats:u,totalCount:h,nextRate:"nextRate"in c&&c.nextRate?c.nextRate:p}}async function Rs(e){let{message:t}=e;const n=await sn(new f.Api.messages.GetWebPagePreview({message:t}));return n&&Je(n)}async function Hs(e){let{chat:t,messageId:n,options:s}=e;const{id:i,accessHash:a}=t;await sn(new f.Api.messages.SendVote({peer:te(i,a),msgId:n,options:s.map(X)}))}async function Us(e){let{chat:t,messageId:n,poll:s}=e;const{id:i,accessHash:a}=t;await sn(new f.Api.messages.EditMessage({peer:te(i,a),id:n,media:oe(s,!0)}))}async function Ts(e){let{chat:t,messageId:n,option:s,offset:i,limit:a,shouldResetVoters:o}=e;const{id:r,accessHash:c}=t,u=await sn(new f.Api.messages.GetPollVotes({peer:te(r,c),id:n,...s&&{option:X(s)},...i&&{offset:i},...a&&{limit:a}}));if(!u)return;Fs({chats:[],users:u.users,messages:[]});const d=u.users.map(Ct).filter(Boolean),l=u.votes.map((e=>({userId:e.userId,date:e.date})));return{count:u.count,votes:l,users:d,nextOffset:u.nextOffset,shouldResetVoters:o}}async function Ns(e){let{fromChat:t,toChat:n,messages:s,serverTimeOffset:i,isSilent:a,scheduledAt:o,sendAs:r,withMyScore:c}=e;const u=s.map((e=>{let{id:t}=e;return t})),d=s.map(re);s.forEach(((e,t)=>{const s=function(e,t,n,s){const i=Te(),{content:a,chatId:o,id:r,senderId:c,groupedId:u,isInAlbum:d}=t,l=a.audio,p=e.id===Ne&&(o!==e.id||t.forwardInfo)&&!l;return{id:i,chatId:e.id,content:a,date:s||Math.round(Date.now()/1e3)+n,isOutgoing:!p&&"chatTypeChannel"!==e.type,senderId:Ne,sendingState:"messageSendingStatePending",groupedId:u,isInAlbum:d,...c!==Ne&&!l&&{forwardInfo:{date:t.date,isChannelPost:!1,fromChatId:o,fromMessageId:r,senderUserId:c}},...s&&{isScheduled:!0}}}(n,e,i,o);B.localMessages[String(d[t])]=s,us({"@type":s.isScheduled?"newScheduledMessage":"newMessage",id:s.id,chatId:n.id,message:s})})),await sn(new f.Api.messages.ForwardMessages({fromPeer:te(t.id,t.accessHash),toPeer:te(n.id,n.accessHash),randomId:d,id:u,withMyScore:c||void 0,silent:a||void 0,...o&&{scheduleDate:o},...r&&{sendAs:te(r.id,r.accessHash)}}))}async function xs(e){let{chat:t,timestamp:n}=e;const s=await sn(new f.Api.messages.GetHistory({peer:te(t.id,t.accessHash),offsetDate:n,addOffset:-1,limit:1}));if(s&&!(s instanceof f.Api.messages.MessagesNotModified)&&s.messages&&s.messages.length)return s.messages[0].id}async function Gs(e){let{chat:t}=e;const{id:n,accessHash:s}=t,i=await sn(new f.Api.messages.GetScheduledHistory({peer:te(n,s)}));if(i&&!(i instanceof f.Api.messages.MessagesNotModified)&&i.messages)return Fs(i),{messages:i.messages.map(Ge).filter(Boolean)}}async function Es(e){let{chat:t,ids:n}=e;const{id:s,accessHash:i}=t;await sn(new f.Api.messages.SendScheduledMessages({peer:te(s,i),id:n}))}function Fs(e){Y(e.users),Y(e.chats),e.messages.forEach((e=>{(e instanceof f.Api.Message&&de(e)||e instanceof f.Api.MessageService&&function(e){return"photo"in e.action&&e.action.photo instanceof f.Api.Photo}(e))&&K(e)}))}async function qs(e){let{chat:t}=e;const n=await sn(new f.Api.messages.Search({peer:te(t.id,t.accessHash),filter:new f.Api.InputMessagesFilterPinned,q:"",limit:50}));if(!n||n instanceof f.Api.messages.MessagesNotModified||!n.messages)return;Fs(n);const s=n.chats.map((e=>ot(e))).filter(Boolean),i=n.users.map(Ct).filter(Boolean);return{messages:n.messages.map(Ge).filter(Boolean),users:i,chats:s}}async function Os(e){let{chat:t,messageId:n}=e;const s=await sn(new f.Api.messages.GetMessageReadParticipants({peer:te(t.id,t.accessHash),msgId:n}));return s?s.map(String):void 0}async function _s(e){let{chat:t}=e;const n=await sn(new f.Api.channels.GetSendAs({peer:te(t.id,t.accessHash)}));if(n)return Y(n.users),Y(n.chats),{users:n.users.map(Ct).filter(Boolean),chats:n.chats.map((e=>ot(e))).filter(Boolean),ids:n.peers.map(W)}}function Ls(e){let{sendAs:t,chat:n}=e;return sn(new f.Api.messages.SaveDefaultSendAs({peer:te(n.id,n.accessHash),sendAs:te(t.id,t.accessHash)}))}async function Vs(e){let{chat:t}=e;const n=await sn(new f.Api.channels.GetSponsoredMessages({channel:te(t.id,t.accessHash)}));if(n&&n.messages.length)return Fs(n),{messages:n.messages.map(xe).filter(Boolean),users:n.users.map(Ct).filter(Boolean),chats:n.chats.map((e=>ot(e))).filter(Boolean)}}async function zs(e){let{chat:t,random:n}=e;await sn(new f.Api.channels.ViewSponsoredMessage({channel:te(t.id,t.accessHash),randomId:X(n)}))}function Ws(e){let{chat:t}=e;return sn(new f.Api.messages.ReadMentions({peer:te(t.id,t.accessHash)}))}function js(e){let{chat:t}=e;return sn(new f.Api.messages.ReadReactions({peer:te(t.id,t.accessHash)}))}async function Js(e){let{chat:t,...n}=e;const s=await sn(new f.Api.messages.GetUnreadMentions({peer:te(t.id,t.accessHash),limit:100,...n}));if(s&&!(s instanceof f.Api.messages.MessagesNotModified)&&s.messages)return Fs(s),{messages:s.messages.map(Ge).filter(Boolean),users:s.users.map(Ct).filter(Boolean),chats:s.chats.map((e=>ot(e))).filter(Boolean)}}async function Ks(e){let{chat:t,...n}=e;const s=await sn(new f.Api.messages.GetUnreadReactions({peer:te(t.id,t.accessHash),limit:100,...n}));if(s&&!(s instanceof f.Api.messages.MessagesNotModified)&&s.messages)return Fs(s),{messages:s.messages.map(Ge).filter(Boolean),users:s.users.map(Ct).filter(Boolean),chats:s.chats.map((e=>ot(e))).filter(Boolean)}}async function $s(e){let{chat:t,messageId:n}=e;const s=await sn(new f.Api.messages.TranscribeAudio({msgId:n,peer:te(t.id,t.accessHash)}));if(s)return us({"@type":"updateTranscribedAudio",isPending:s.pending,transcriptionId:s.transcriptionId.toString(),text:s.text}),s.transcriptionId.toString()}let Qs,Ys,Zs,Xs;async function ei(e){let{id:t,accessHash:n}=e;const s=se(t,n);if(!(s instanceof f.Api.InputUser))return;const i=await sn(new f.Api.users.GetFullUser({id:s}));if(!i)return;i.fullUser.profilePhoto instanceof f.Api.Photo&&(B.photos[i.fullUser.profilePhoto.id.toString()]=i.fullUser.profilePhoto);const a=i.fullUser.botInfo;(null==a?void 0:a.descriptionPhoto)instanceof f.Api.Photo&&(B.photos[a.descriptionPhoto.id.toString()]=a.descriptionPhoto),(null==a?void 0:a.descriptionDocument)instanceof f.Api.Document&&(B.documents[a.descriptionDocument.id.toString()]=a.descriptionDocument);const o=bt(i);Qs({"@type":"updateUser",id:t,user:{fullInfo:o.fullInfo}})}async function ti(e,t,n){const s=await sn(new f.Api.messages.GetCommonChats({userId:se(e,t),maxId:n?we(n,ee(n)):void 0,limit:100}));if(!s)return;li(s);const i=[],a=[];return s.chats.forEach((e=>{const t=ot(e);t&&(a.push(t),i.push(t.id))})),{chats:a,chatIds:i,isFullyLoaded:i.length<100}}async function ni(){const e=await sn(new f.Api.help.GetNearestDc);return null==e?void 0:e.country}async function si(){const e=await sn(new f.Api.contacts.GetTopPeers({correspondents:!0}));if(!(e instanceof f.Api.contacts.TopPeers))return;const t=e.users.map(Ct).filter((e=>Boolean(e)&&!e.isSelf));return{ids:t.map((e=>{let{id:t}=e;return t})),users:t}}async function ii(){const e=await sn(new f.Api.contacts.GetContacts({hash:E()("0")}));if(!e||e instanceof f.Api.contacts.ContactsNotModified)return;e.users.forEach((e=>{e instanceof f.Api.User&&Q(e,!0)}));const{users:t,userStatusesById:n}=Mt(e.users);return{users:t,userStatusesById:n,chats:e.users.map((e=>ot(e))).filter(Boolean)}}async function ai(e){let{users:t}=e;const n=await sn(new f.Api.users.GetUsers({id:t.map((e=>{let{id:t,accessHash:n}=e;return te(t,n)}))}));if(n&&n.length)return n.forEach((e=>{e instanceof f.Api.User&&Q(e,!0)})),Mt(n)}async function oi(e){let{phone:t,firstName:n,lastName:s}=e;const i=await sn(new f.Api.contacts.ImportContacts({contacts:[le({phone:t||"",firstName:n||"",lastName:s||""})]}));return i instanceof f.Api.contacts.ImportedContacts&&i.users.length&&Q(i.users[0]),null!=i&&i.imported.length?z(i.imported[0].userId,"user"):void 0}function ri(e){let{id:t,accessHash:n,phoneNumber:s="",firstName:i="",lastName:a="",shouldSharePhoneNumber:o=!1}=e;return sn(new f.Api.contacts.AddContact({id:se(t,n),firstName:i,lastName:a,phone:s,...o&&{addPhonePrivacyException:o}}))}async function ci(e){let{id:t,accessHash:n}=e;const s=se(t,n);s instanceof f.Api.InputUser&&await sn(new f.Api.contacts.DeleteContacts({id:[s]}))&&Qs({"@type":"deleteContact",id:t})}async function ui(e,t){if(e){const{id:t,accessHash:n}=e,s=await sn(new f.Api.photos.GetUserPhotos({userId:se(t,n),limit:40,offset:0,maxId:E()("0")}));if(!s)return;return li(s),{photos:s.photos.filter((e=>e instanceof f.Api.Photo)).map(b)}}const n=await Bs({chat:t,type:"profilePhoto",limit:40});if(!n)return;const{messages:s,users:i}=n;return{photos:s.map((e=>e.content.action.photo)).filter(Boolean),users:i}}function di(e){const{id:t,accessHash:n}=e;return sn(new f.Api.messages.ReportSpam({peer:te(t,n)}))}function li(e){"chats"in e&&Y(e.chats),"photos"in e&&e.photos.forEach($)}async function pi(e){let{hash:t="0"}=e;const n=await sn(new f.Api.messages.GetAllStickers({hash:E()(t)}));if(n&&!(n instanceof f.Api.messages.AllStickersNotModified))return n.sets.forEach((e=>{var t;null!==(t=e.thumbs)&&void 0!==t&&t.length&&(B.stickerSets[String(e.id)]=e)})),{hash:String(n.hash),sets:n.sets.map(T)}}async function hi(e){let{hash:t="0"}=e;const n=await sn(new f.Api.messages.GetRecentStickers({hash:E()(t)}));if(n&&!(n instanceof f.Api.messages.RecentStickersNotModified))return{hash:String(n.hash),stickers:Ri(n.stickers.slice(0,20))}}async function fi(e){let{hash:t="0"}=e;const n=await sn(new f.Api.messages.GetFavedStickers({hash:E()(t)}));if(n&&!(n instanceof f.Api.messages.FavedStickersNotModified))return{hash:String(n.hash),stickers:Ri(n.stickers)}}async function mi(e){let{hash:t="0"}=e;const n=await sn(new f.Api.messages.GetFeaturedStickers({hash:E()(t)}));if(n&&!(n instanceof f.Api.messages.FeaturedStickersNotModified))return{hash:String(n.hash),isPremium:Boolean(n.premium),sets:n.sets.map(N)}}async function gi(e){let{sticker:t,unfave:n}=e;new f.Api.messages.FaveSticker({id:ae(t),unfave:n});await sn()&&Ys({"@type":"updateFavoriteStickers"})}function Ai(e){let{sticker:t}=e;return sn(new f.Api.messages.SaveRecentSticker({id:ae(t),unsave:!0}))}function wi(){return sn(new f.Api.messages.ClearRecentStickers)}async function yi(e){let{stickerSetShortName:t,stickerSetId:n,accessHash:s}=e;const i=await sn(new f.Api.messages.GetStickerSet({stickerset:n?ie(n,s):(a=t,new f.Api.InputStickerSetShortName({shortName:a}))}));var a,o;if(i instanceof f.Api.messages.StickerSet)return{set:T(i.set),stickers:Ri(i.documents),packs:(o=i.packs,o.reduce(((e,t)=>{let{emoticon:n,documents:s}=t;return e[n]=s.map((e=>U(B.documents[String(e)]))).filter(Boolean),e}),{}))}}async function vi(){const e=await sn(new f.Api.messages.GetStickerSet({stickerset:new f.Api.InputStickerSetAnimatedEmoji}));if(e instanceof f.Api.messages.StickerSet)return{set:T(e.set),stickers:Ri(e.documents)}}async function Ii(){const e=await sn(new f.Api.messages.GetStickerSet({stickerset:new f.Api.InputStickerSetAnimatedEmojiAnimations}));if(e instanceof f.Api.messages.StickerSet)return{set:T(e.set),stickers:Ri(e.documents)}}async function Si(e){let{query:t,hash:n="0"}=e;const s=await sn(new f.Api.messages.SearchStickerSets({q:t,hash:E()(n)}));if(s&&!(s instanceof f.Api.messages.FoundStickerSetsNotModified))return{hash:String(s.hash),sets:s.sets.map(N)}}async function bi(e){let{hash:t="0"}=e;const n=await sn(new f.Api.messages.GetSavedGifs({hash:E()(t)}));if(n&&!(n instanceof f.Api.messages.SavedGifsNotModified))return{hash:String(n.hash),gifs:Hi(n.gifs)}}function Ci(e){let{gif:t,shouldUnsave:n}=e;return sn(new f.Api.messages.SaveGif({id:ae(t),unsave:n}))}async function Mi(e){let{stickerSetId:t,accessHash:n}=e;await sn(new f.Api.messages.InstallStickerSet({stickerset:ie(t,n)}))&&Ys({"@type":"updateStickerSet",id:t,stickerSet:{installedDate:Date.now()}})}async function Pi(e){let{stickerSetId:t,accessHash:n}=e;await sn(new f.Api.messages.UninstallStickerSet({stickerset:ie(t,n)}))&&Ys({"@type":"updateStickerSet",id:t,stickerSet:{installedDate:void 0}})}async function ki(e){let{query:t,offset:n=""}=e;if(!Zs){const e=await sn(new f.Api.help.GetConfig);if(!e)return;const t=await sn(new f.Api.contacts.ResolveUsername({username:e.gifSearchUsername}));if(!(t&&t.users[0]instanceof f.Api.User))return;Zs=new f.Api.InputUser({userId:t.peer.userId,accessHash:t.users[0].accessHash})}const s=await sn(new f.Api.messages.GetInlineBotResults({bot:Zs,peer:new f.Api.InputPeerEmpty,query:t,offset:n}));if(!s)return;const i=s.results.map((e=>{if(e instanceof f.Api.BotInlineMediaResult)return e.document})).filter(Boolean);return{nextOffset:s.nextOffset,gifs:Hi(i)}}async function Bi(e){let{emoji:t,hash:n="0"}=e;const s=await sn(new f.Api.messages.GetStickers({emoticon:t,hash:E()(n)}));if(s&&!(s instanceof f.Api.messages.StickersNotModified))return{stickers:Ri(s.stickers),hash:String(s.hash)}}async function Di(e){let{language:t,fromVersion:n}=e;const s=await sn(new f.Api.messages.GetEmojiKeywordsDifference({langCode:t,fromVersion:n}));if(s)return{language:s.langCode,version:s.version,keywords:s.keywords.reduce(((e,t)=>(e[t.keyword]=t.emoticons,e)),{})}}function Ri(e){return e.map((e=>{if(e instanceof f.Api.Document){const t=U(e);if(t)return B.documents[String(e.id)]=e,t}})).filter(Boolean)}function Hi(e){return e.map((e=>{if(e instanceof f.Api.Document){const t=Ve(e);if(t)return B.documents[String(e.id)]=e,t}})).filter(Boolean)}function Ui(e){let{username:t}=e;return sn(new f.Api.channels.CheckUsername({channel:new f.Api.InputChannelEmpty,username:t}))}async function Ti(e){let{chat:t,username:n}=e;await sn(new f.Api.channels.UpdateUsername({channel:se(t.id,t.accessHash),username:n}))&&Xs({"@type":"updateChat",id:t.id,chat:{username:n}})}async function Ni(e){let{chat:t,usageLimit:n,expireDate:s}=e;const i=await sn(new f.Api.messages.ExportChatInvite({peer:te(t.id,t.accessHash),usageLimit:n,expireDate:s}));if(i instanceof f.Api.ChatInviteExported)return Xs({"@type":"updateChatFullInfo",id:t.id,fullInfo:{inviteLink:i.link}}),i.link}async function xi(e){let{peer:t,admin:n,limit:s=0,isRevoked:i}=e;const a=await sn(new f.Api.messages.GetExportedChatInvites({peer:te(t.id,t.accessHash),adminId:se(n.id,n.accessHash),limit:s,revoked:i||void 0}));if(a)return Y(a.users),a.invites.filter((e=>e instanceof f.Api.ChatInviteExported)).map(At)}async function Gi(e){let{peer:t,isRevoked:n,link:s,expireDate:i,usageLimit:a,isRequestNeeded:o,title:r}=e;const c=await sn(new f.Api.messages.EditExportedChatInvite({link:s,peer:te(t.id,t.accessHash),expireDate:i,usageLimit:o?void 0:a,requestNeeded:o,title:r,revoked:n||void 0}));if(c){if(Y(c.users),c instanceof f.Api.messages.ExportedChatInvite&&c.invite instanceof f.Api.ChatInviteExported){const e=At(c.invite);return{oldInvite:e,newInvite:e}}if(c instanceof f.Api.messages.ExportedChatInviteReplaced&&c.invite instanceof f.Api.ChatInviteExported&&c.newInvite instanceof f.Api.ChatInviteExported)return{oldInvite:At(c.invite),newInvite:At(c.newInvite)}}}async function Ei(e){let{peer:t,expireDate:n,usageLimit:s,isRequestNeeded:i,title:a}=e;const o=await sn(new f.Api.messages.ExportChatInvite({peer:te(t.id,t.accessHash),expireDate:n,usageLimit:i?void 0:s,requestNeeded:i||void 0,title:a}));if(o instanceof f.Api.ChatInviteExported)return At(o)}async function Fi(e){let{peer:t,link:n}=e;return await sn(new f.Api.messages.DeleteExportedChatInvite({peer:te(t.id,t.accessHash),link:n}))}async function qi(e){let{peer:t,admin:n}=e;return await sn(new f.Api.messages.DeleteRevokedExportedChatInvites({peer:te(t.id,t.accessHash),adminId:se(n.id,n.accessHash)}))}async function Oi(e){let{peer:t,link:n,offsetDate:s=0,offsetUser:i,limit:a=0,isRequested:o}=e;const r=await sn(new f.Api.messages.GetChatInviteImporters({peer:te(t.id,t.accessHash),link:n,offsetDate:s,offsetUser:i?se(i.id,i.accessHash):new f.Api.InputUserEmpty,limit:a,requested:o||void 0}));if(!r)return;const c=r.users.map((e=>Ct(e))).filter(Boolean);return Y(r.users),{importers:r.importers.map((e=>function(e){const{userId:t,date:n,about:s,requested:i}=e;return{userId:z(t,"user"),date:n,about:s,isRequested:i}}(e))),users:m(c,"id")}}function _i(e){let{peer:t,user:n,isApproved:s}=e;return sn(new f.Api.messages.HideChatJoinRequest({peer:te(t.id,t.accessHash),userId:se(n.id,n.accessHash),approved:s||void 0}))}function Li(e){let{peer:t,isApproved:n,link:s}=e;return sn(new f.Api.messages.HideAllChatJoinRequests({peer:te(t.id,t.accessHash),approved:n||void 0,link:s}))}function Vi(e){const{id:t,accessHash:n}=e;return sn(new f.Api.messages.HidePeerSettingsBar({peer:te(t,n)}))}const zi={EMAIL_UNCONFIRMED:"Email unconfirmed",EMAIL_HASH_EXPIRED:"Email hash expired",NEW_SALT_INVALID:"The new salt is invalid",NEW_SETTINGS_INVALID:"The new password settings are invalid",CODE_INVALID:"Invalid Code",PASSWORD_HASH_INVALID:"Invalid Password"},Wi={};let ji,Ji;async function Ki(){const e=await sn(new f.Api.account.GetPassword);if(!e)return;const{hint:t,hasPassword:n}=e;return{hint:t,hasPassword:n}}function $i(e){return ji({"@type":"updateTwoFaStateWaitCode",length:e}),new Promise(((e,t)=>{Wi.resolve=e,Wi.reject=t}))}async function Qi(e){try{return await rn({isCheckPassword:!0,currentPassword:e}),!0}catch(e){return ta(e),!1}}async function Yi(e){try{return await rn({currentPassword:e}),!0}catch(e){return ta(e),!1}}async function Zi(e,t,n,s){try{return await rn({currentPassword:e,newPassword:t,hint:n,email:s,emailCodeCallback:$i,onEmailCodeError:ta}),!0}catch(e){return ta(e),!1}}async function Xi(e,t){try{return await rn({currentPassword:e,newPassword:e,email:t,emailCodeCallback:$i,onEmailCodeError:ta}),!0}catch(e){return ta(e),!1}}function ea(e){Wi.resolve(e)}function ta(e){let t;if(e instanceof f.errors.FloodWaitError){const n=Math.ceil(Number(e.seconds)/60/60);t="Too many attempts. Try again in "+(n>1?`${n} hours`:"an hour")}else t=zi[e.message];t||(t="Unexpected Error"),ji({"@type":"updateTwoFaError",message:t})}async function na(e){let{chatId:t,accessHash:n,messageId:s,data:i,isGame:a}=e;const o=await sn(new f.Api.messages.GetBotCallbackAnswer({peer:te(t,n),msgId:s,data:i?X(i):void 0,game:a||void 0}));return o?y(o):void 0}async function sa(){const e=await sn(new f.Api.contacts.GetTopPeers({botsInline:!0}));if(!(e instanceof f.Api.contacts.TopPeers))return;const t=e.users.map(Ct).filter(Boolean);return{ids:t.map((e=>{let{id:t}=e;return t})),users:t}}async function ia(e){let{username:t}=e;const n=await sn(new f.Api.contacts.ResolveUsername({username:t}));if(n&&n.users[0]instanceof f.Api.User&&n.users[0].bot&&n.users[0].botInlinePlaceholder)return Q(n.users[0]),{user:Ct(n.users[0]),chat:ot(n.users[0])}}async function aa(e){let{bot:t,chat:n,query:s,offset:i=""}=e;const a=await sn(new f.Api.messages.GetInlineBotResults({bot:te(t.id,t.accessHash),peer:te(n.id,n.accessHash),query:s,offset:i}));var o,r,c,u,d;if(a)return Y(a.users),{isGallery:Boolean(a.gallery),help:t.botPlaceholder,nextOffset:(u=t.username,d=a.nextOffset,"gif"===u&&"0"===d?"":d),switchPm:(c=a.switchPm,c?g(c,["text","startParam"]):void 0),users:a.users.map(Ct).filter(Boolean),results:(o=String(a.queryId),r=a.results,r.map((e=>{return e instanceof f.Api.BotInlineMediaResult?(e.document instanceof f.Api.Document&&(t=e.document,B.documents[String(t.id)]=t),e.photo instanceof f.Api.Photo&&(n=e.photo,B.photos[String(n.id)]=n),function(e,t){const{id:n,type:s,title:i,description:a,photo:o,document:r}=e;return{id:n,queryId:t,type:s,title:i,description:a,..."sticker"===s&&r instanceof f.Api.Document&&{sticker:U(r)},...o instanceof f.Api.Photo&&{photo:b(o)},..."gif"===s&&r instanceof f.Api.Document&&{gif:Ve(r)},..."video"===s&&r instanceof f.Api.Document&&{thumbnail:S(r.thumbs)}}}(e,o)):(e.thumb&&(s=e.thumb,B.webDocuments[s.url]=s),function(e,t){const{id:n,type:s,title:i,description:a,url:o,thumb:r}=e;return{id:n,queryId:t,type:s,title:i,description:a,url:o,webThumbnail:Qe(r)}}(e,o));var t,n,s})))}}async function oa(e){let{chat:t,resultId:n,queryId:s,replyingTo:i,sendAs:a,isSilent:o,scheduleDate:r}=e;const c=re();await sn(new f.Api.messages.SendInlineBotResult({clearDraft:!0,randomId:c,queryId:E()(s),peer:te(t.id,t.accessHash),id:n,scheduleDate:r,...o&&{silent:!0},...i&&{replyToMsgId:i},...a&&{sendAs:te(a.id,a.accessHash)}}))}async function ra(e){let{bot:t,startParam:n}=e;const s=re();await sn(new f.Api.messages.StartBot({bot:te(t.id,t.accessHash),peer:te(t.id,t.accessHash),randomId:s,startParam:n}))}async function ca(e){let{isSilent:t,peer:n,bot:s,url:i,startParam:a,replyToMessageId:o,theme:r,sendAs:c,isFromBotMenu:u}=e;const d=await sn(new f.Api.messages.RequestWebView({silent:t||void 0,peer:te(n.id,n.accessHash),bot:te(s.id,s.accessHash),replyToMsgId:o,url:i,startParam:a,themeParams:r?Ae(r):void 0,fromBotMenu:u||void 0,...c&&{sendAs:te(c.id,c.accessHash)}}));if(d instanceof f.Api.WebViewResultUrl)return{url:d.url,queryId:d.queryId.toString()}}async function ua(e){let{bot:t,url:n,theme:s}=e;const i=await sn(new f.Api.messages.RequestSimpleWebView({url:n,bot:te(t.id,t.accessHash),themeParams:s?Ae(s):void 0}));return null==i?void 0:i.url}function da(e){let{isSilent:t,peer:n,bot:s,queryId:i,replyToMessageId:a,sendAs:o}=e;return sn(new f.Api.messages.ProlongWebView({silent:t||void 0,peer:te(n.id,n.accessHash),bot:te(s.id,s.accessHash),queryId:E()(i),replyToMsgId:a,...o&&{sendAs:te(o.id,o.accessHash)}}))}async function la(e){let{bot:t,buttonText:n,data:s}=e;const i=re();await sn(new f.Api.messages.SendWebViewData({bot:te(t.id,t.accessHash),buttonText:n,data:s,randomId:i}))}async function pa(e){let{hash:t}=e;const n=await sn(new f.Api.messages.GetAttachMenuBots({hash:t?E()(t):void 0}));if(n instanceof f.Api.AttachMenuBots)return Y(n.users),{hash:n.hash.toString(),bots:m(n.bots.map(wt),"id")}}function ha(e){let{bot:t,isEnabled:n}=e;return sn(new f.Api.messages.ToggleBotInAttachMenu({bot:te(t.id,t.accessHash),enabled:n}))}async function fa(e){let{chat:t,buttonId:n,messageId:s}=e;const i=await sn(new f.Api.messages.RequestUrlAuth({peer:te(t.id,t.accessHash),buttonId:n,msgId:s}));if(!i)return;const a=Ut(i);return"request"===(null==a?void 0:a.type)&&Ji({"@type":"updateUser",id:a.bot.id,user:a.bot}),a}async function ma(e){let{chat:t,messageId:n,buttonId:s,isWriteAllowed:i}=e;const a=await sn(new f.Api.messages.AcceptUrlAuth({peer:te(t.id,t.accessHash),msgId:n,buttonId:s,writeAllowed:i||void 0}));if(!a)return;const o=Ut(a);return"request"===(null==o?void 0:o.type)&&Ji({"@type":"updateUser",id:o.bot.id,user:o.bot}),o}async function ga(e){let{url:t}=e;const n=await sn(new f.Api.messages.RequestUrlAuth({url:t}));if(!n)return;const s=Ut(n);return"request"===(null==s?void 0:s.type)&&Ji({"@type":"updateUser",id:s.bot.id,user:s.bot}),s}async function Aa(e){let{url:t,isWriteAllowed:n}=e;const s=await sn(new f.Api.messages.AcceptUrlAuth({url:t,writeAllowed:n||void 0}));if(!s)return;const i=Ut(s);return"request"===(null==i?void 0:i.type)&&Ji({"@type":"updateUser",id:i.bot.id,user:i.bot}),i}var wa=n(48764).Buffer;let ya,va;async function Ia(e){let{call:t}=e;const n=await sn(new f.Api.phone.GetGroupCall({call:ye(t)}));if(!n)return;Y(n.users),Y(n.chats);const s=n.users.map(Ct).filter(Boolean),i=n.chats.map((e=>ot(e))).filter(Boolean);return{groupCall:Me(n.call),users:s,chats:i}}function Sa(e){let{call:t}=e;return sn(new f.Api.phone.DiscardGroupCall({call:ye(t)}))}function ba(e){let{call:t,participant:n,muted:s,presentationPaused:i,videoStopped:a,videoPaused:o,volume:r,raiseHand:c}=e;return sn(new f.Api.phone.EditGroupCallParticipant({call:ye(t),participant:te(n.id,n.accessHash),...void 0!==a&&{videoStopped:a},...void 0!==o&&{videoPaused:o},...void 0!==s&&{muted:s},...void 0!==i&&{presentationPaused:i},...void 0!==c&&{raiseHand:c},...void 0!==r&&{volume:r}}))}function Ca(e){let{groupCall:t,title:n}=e;return sn(new f.Api.phone.EditGroupCallTitle({title:n,call:ye(t)}))}async function Ma(e){let{call:t,canSelfUnmute:n}=e;const s=await sn(new f.Api.phone.ExportGroupCallInvite({canSelfUnmute:n||void 0,call:ye(t)}));if(s)return s.link}async function Pa(e){let{call:t,offset:n}=e;const s=await sn(new f.Api.phone.GetGroupParticipants({call:ye(t),ids:[],sources:[],offset:n||"",limit:100}));if(!s)return;Y(s.users),Y(s.chats);const i=s.users.map(Ct).filter(Boolean),a=s.chats.map((e=>ot(e))).filter(Boolean);return ya({"@type":"updateGroupCallParticipants",groupCallId:t.id,participants:s.participants.map(Se),nextOffset:s.nextOffset}),{users:i,chats:a}}function ka(e){let{call:t}=e;return sn(new f.Api.phone.LeaveGroupCall({call:ye(t)}))}async function Ba(e){let{call:t,inviteHash:n,params:s}=e;const i=await sn(new f.Api.phone.JoinGroupCall({call:ye(t),joinAs:new f.Api.InputPeerSelf,muted:!0,videoStopped:!0,params:new f.Api.DataJSON({data:JSON.stringify(s)}),inviteHash:n}));if(i&&i instanceof f.Api.Updates){const e=i.updates.find((e=>e instanceof f.Api.UpdateGroupCall));if(!(e instanceof f.Api.UpdateGroupCall))return;return Me(e.call)}}async function Da(e){let{peer:t}=e;const n=ce(),s=await sn(new f.Api.phone.CreateGroupCall({peer:te(t.id,t.accessHash),randomId:n}));if(s&&s instanceof f.Api.Updates){const e=s.updates[0];if(e instanceof f.Api.UpdateGroupCall)return Me(e.call)}}function Ra(e){let{call:t,params:n}=e;return sn(new f.Api.phone.JoinGroupCallPresentation({call:ye(t),params:new f.Api.DataJSON({data:JSON.stringify(n)})}))}function Ha(e){let{call:t,subscribed:n}=e;return sn(new f.Api.phone.ToggleGroupCallStartSubscription({call:ye(t),subscribed:n}))}function Ua(e){let{call:t}=e;return sn(new f.Api.phone.LeaveGroupCallPresentation({call:ye(t)}))}async function Ta(){const e=await sn(new f.Api.messages.GetDhConfig({}));if(e&&!(e instanceof f.Api.messages.DhConfigNotModified))return{g:e.g,p:Array.from(e.p),random:Array.from(e.random)}}function Na(e){let{call:t,isBusy:n}=e;return sn(new f.Api.phone.DiscardCall({peer:ve(t),reason:n?new f.Api.PhoneCallDiscardReasonBusy:new f.Api.PhoneCallDiscardReasonHangup}))}async function xa(e){let{user:t,gAHash:n,isVideo:s}=e;const i=await sn(new f.Api.phone.RequestCall({randomId:ce(),userId:te(t.id,t.accessHash),gAHash:wa.from(n),...s&&{video:!0},protocol:Re()}));if(!i)return!1;const a=Pe(i.phoneCall);return ya({"@type":"updatePhoneCall",call:a}),!0}function Ga(e){let{call:t,rating:n,comment:s}=e;return sn(new f.Api.phone.SetCallRating({rating:n,peer:ve(t),comment:s}))}function Ea(e){let{call:t}=e;return sn(new f.Api.phone.ReceivedCall({peer:ve(t)}))}async function Fa(e){let{call:t,gB:n}=e;const s=await sn(new f.Api.phone.AcceptCall({peer:ve(t),gB:wa.from(n),protocol:Re()}));s&&(t=Pe(s.phoneCall),ya({"@type":"updatePhoneCall",call:t}))}async function qa(e){let{call:t,gA:n,keyFingerprint:s}=e;const i=await sn(new f.Api.phone.ConfirmCall({peer:ve(t),gA:wa.from(n),keyFingerprint:E()(s),protocol:Re()}));i&&(t=Pe(i.phoneCall),ya({"@type":"updatePhoneCall",call:t}))}function Oa(e){let{data:t,call:n}=e;return sn(new f.Api.phone.SendSignalingData({data:wa.from(t),peer:ve(n)}))}function _a(e){if(e)return Object.values(e).map((e=>({id:e.id,title:e.title,amount:e.prices.reduce(((e,t)=>e+t.amount.toJSNumber()),0),prices:e.prices.map((e=>{let{label:t,amount:n}=e;return{label:t,amount:n.toJSNumber()}}))})))}function La(e){const{formId:t,canSaveCredentials:n,passwordMissing:s,providerId:i,nativeProvider:a,nativeParams:o,savedInfo:r,invoice:c}=e,{test:u,nameRequested:d,phoneRequested:l,emailRequested:p,shippingAddressRequested:h,flexible:f,phoneToProvider:m,emailToProvider:g,currency:A,prices:w}=c,v=w.map((e=>{let{label:t,amount:n}=e;return{label:t,amount:n.toJSNumber()}})),{shippingAddress:I}=r||{},S=r?y(r):void 0;S&&I&&(S.shippingAddress=y(I));const b=o?JSON.parse(o.data):{};return{canSaveCredentials:n,passwordMissing:s,formId:String(t),providerId:String(i),nativeProvider:a,savedInfo:S,invoice:{test:u,nameRequested:d,phoneRequested:l,emailRequested:p,shippingAddressRequested:h,flexible:f,phoneToProvider:m,emailToProvider:g,currency:A,prices:v},nativeParams:{needCardholderName:b.need_cardholder_name,needCountry:b.need_country,needZip:b.need_zip,publishableKey:b.publishable_key,publicToken:null==b?void 0:b.public_token}}}function Va(e){const{invoice:t,description:n,title:s,photo:i}=e,{test:a,currency:o,prices:r,recurring:c,recurringTermsUrl:u}=t,d=r.reduce(((e,t)=>e+t.amount.toJSNumber()),0);return{text:n,title:s,photo:Qe(i),amount:d,currency:o,isTest:a,isRecurring:c,recurringTermsUrl:u}}function za(e){const{statusText:t,statusEntities:n,videos:s,videoSections:i,currency:a,monthlyAmount:o}=e;return{statusText:t,statusEntities:n.map((e=>Ze(e))),videoSections:i,currency:a,videos:s.map(ze).filter(Boolean),monthlyAmount:o.toString()}}async function Wa(e){let{inputInvoice:t,requestInfo:n,shouldSave:s}=e;const i=await sn(new f.Api.payments.ValidateRequestedInfo({invoice:Ie(t),save:s||void 0,info:fe(n)}));if(!i)return;const{id:a,shippingOptions:o}=i;return a?{id:a,shippingOptions:_a(o)}:void 0}async function ja(e){let{inputInvoice:t,formId:n,requestedInfoId:s,shippingOptionId:i,credentials:a}=e;const o=await sn(new f.Api.payments.SendPaymentForm({formId:E()(n),invoice:Ie(t),requestedInfoId:s,shippingOptionId:i,credentials:new f.Api.InputPaymentCredentials({save:a.save,data:new f.Api.DataJSON({data:JSON.stringify(a.data)})})}));if(!(o instanceof f.Api.payments.PaymentVerificationNeeded))return Boolean(o);va({"@type":"updatePaymentVerificationNeeded",url:o.url})}async function Ja(e){const t=await sn(new f.Api.payments.GetPaymentForm({invoice:Ie(e)}));if(t)return t.photo&&(B.webDocuments[t.photo.url]=t.photo),{form:La(t),invoice:Va(t)}}async function Ka(e,t){const n=await sn(new f.Api.payments.GetPaymentReceipt({peer:te(e.id,e.accessHash),msgId:t}));if(n)return function(e){const{invoice:t,info:n,shipping:s,currency:i,totalAmount:a,credentialsTitle:o}=e,{shippingAddress:r,phone:c,name:u}=n||{},{prices:d}=t,l=d.map((e=>{let{label:t,amount:n}=e;return{label:t,amount:n.toJSNumber()}}));let p,h;return s&&(p=s.prices.map((e=>{let{label:t,amount:n}=e;return{label:t,amount:n.toJSNumber()}})),h=s.title),{currency:i,prices:l,info:{shippingAddress:r,phone:c,name:u},totalAmount:a.toJSNumber(),credentialsTitle:o,shippingPrices:p,shippingMethod:h}}(n)}async function $a(){const e=await sn(new f.Api.help.GetPremiumPromo);if(!e)return;Y(e.users);const t=e.users.map(Ct).filter(Boolean);return e.videos.forEach((e=>{e instanceof f.Api.Document&&(B.documents[e.id.toString()]=e)})),{promo:za(e),users:t}}async function Qa(e){let{peer:t,reason:n,description:s}=e;return await sn(new f.Api.account.ReportPeer({peer:te(t.id,t.accessHash),reason:ge(n),message:s}))}async function Ya(e){let{peer:t,photo:n,reason:s,description:i}=e;const a=function(e){const t=B.photos[null==e?void 0:e.id];if(t)return new f.Api.InputPhoto(g(t,["id","accessHash","fileReference"]))}(n);if(a)return await sn(new f.Api.account.ReportProfilePhoto({peer:te(t.id,t.accessHash),photoId:a,reason:ge(s),message:i}))}async function Za(e){let{hash:t,areCallsEnabled:n,areSecretChatsEnabled:s}=e;return await sn(new f.Api.account.ChangeAuthorizationSettings({hash:E()(t),...void 0!==n?{callRequestsDisabled:!n}:void 0,...void 0!==s?{encryptedRequestsDisabled:!s}:void 0}))}async function Xa(e){let{days:t}=e;return await sn(new f.Api.account.SetAuthorizationTTL({authorizationTtlDays:t}))}var eo=n(48764).Buffer;function to(e){const{emojies_sounds:t}=e;return t?Object.keys(t).reduce(((e,n)=>{const s=t[n];return B.documents[s.id]=new f.Api.Document({id:E()(s.id),accessHash:E()(s.access_hash),dcId:1,mimeType:"audio/ogg",fileReference:eo.from(atob(s.file_reference_base64.replace(/-/g,"+").replace(/_/g,"/")))}),e[n]=s.id,e}),{}):{}}function no(e,t,n){return[e[`${t}_default`]||l[n][0],e[`${t}_premium`]||l[n][1]]}const so=["ar","fa","id","ko","uz","en"];function io(e){let{firstName:t,lastName:n,about:s}=e;return sn(new f.Api.account.UpdateProfile({firstName:t||"",lastName:n||"",about:s||""}))}function ao(e){return sn(new f.Api.account.CheckUsername({username:e}))}function oo(e){return sn(new f.Api.account.UpdateUsername({username:e}))}async function ro(e){const t=await on(e);return sn(new f.Api.photos.UploadProfilePhoto({file:t}))}async function co(e){const t=await on(e);await sn(new f.Api.photos.UploadProfilePhoto({file:t}))}async function uo(){const e=await sn(new f.Api.account.GetWallPapers({hash:E()("0")}));if(!e||e instanceof f.Api.account.WallPapersNotModified)return;const t=e.wallpapers.filter((e=>e instanceof f.Api.WallPaper&&e.document instanceof f.Api.Document&&!e.pattern&&"application/x-tgwallpattern"!==e.document.mimeType));return t.forEach((e=>{B.documents[String(e.document.id)]=e.document})),{wallpapers:t.map(Pt).filter(Boolean)}}async function lo(e){const t=await on(e),n=await sn(new f.Api.account.UploadWallPaper({file:t,mimeType:e.type,settings:new f.Api.WallPaperSettings}));if(!(n&&n instanceof f.Api.WallPaper))return;const s=Pt(n);return s?(B.documents[String(n.document.id)]=n.document,{wallpaper:s}):void 0}async function po(){const e=await sn(new f.Api.contacts.GetBlocked({limit:100}));if(e)return Go(e),{users:e.users.map(Ct).filter(Boolean),chats:e.chats.map((e=>ot(e,void 0,!0))).filter(Boolean),blockedIds:e.blocked.map((e=>W(e.peerId))),totalCount:e instanceof f.Api.contacts.BlockedSlice?e.count:e.blocked.length}}function ho(e,t){return sn(new f.Api.contacts.Block({id:te(e,t)}))}function fo(e,t){return sn(new f.Api.contacts.Unblock({id:te(e,t)}))}async function mo(){const e=await sn(new f.Api.account.GetAuthorizations);if(e)return{authorizations:m(e.authorizations.map(kt),"hash"),ttlDays:e.authorizationTtlDays}}function go(e){return sn(new f.Api.account.ResetAuthorization({hash:E()(e)}))}function Ao(){return sn(new f.Api.auth.ResetAuthorizations)}async function wo(){const e=await sn(new f.Api.account.GetWebAuthorizations);if(e)return m(e.authorizations.map(Bt),"hash")}function yo(e){return sn(new f.Api.account.ResetWebAuthorization({hash:E()(e)}))}function vo(){return sn(new f.Api.account.ResetWebAuthorizations)}async function Io(e){let{serverTimeOffset:t}=e;const n=await sn(new f.Api.account.GetNotifyExceptions({compareSound:!0}));if(n instanceof f.Api.Updates||n instanceof f.Api.UpdatesCombined)return Go(n),n.updates.reduce(((e,n)=>n instanceof f.Api.UpdateNotifySettings&&n.peer instanceof f.Api.NotifyPeer?(e.push(function(e,t,n){const{silent:s,muteUntil:i,showPreviews:a,otherSound:o}=e,r=Boolean(o&&!(o instanceof f.Api.NotificationSoundNone));return{chatId:W(t),isMuted:s||"number"==typeof i&&et(n)<i,...!r&&{isSilent:!0},...void 0!==a&&{shouldShowPreviews:Boolean(a)}}}(n.notifySettings,n.peer.peer,t)),e):e),[])}async function So(e){let{serverTimeOffset:t}=e;const[n,s,i,a]=await Promise.all([sn(new f.Api.account.GetContactSignUpNotification),sn(new f.Api.account.GetNotifySettings({peer:new f.Api.InputNotifyUsers})),sn(new f.Api.account.GetNotifySettings({peer:new f.Api.InputNotifyChats})),sn(new f.Api.account.GetNotifySettings({peer:new f.Api.InputNotifyBroadcasts}))]);if(!s||!i||!a)return!1;const{silent:o,muteUntil:r,showPreviews:c}=s,{silent:u,muteUntil:d,showPreviews:l}=i,{silent:p,muteUntil:h,showPreviews:m}=a;return{hasContactJoinedNotifications:!n,hasPrivateChatsNotifications:!(o||"number"==typeof r&&et(t)<r),hasPrivateChatsMessagePreview:c,hasGroupNotifications:!(u||"number"==typeof d&&et(t)<d),hasGroupMessagePreview:l,hasBroadcastNotifications:!(p||"number"==typeof h&&et(t)<h),hasBroadcastMessagePreview:m}}function bo(e){return sn(new f.Api.account.SetContactSignUpNotification({silent:e}))}function Co(e,t){let n,{isSilent:s,shouldShowPreviews:i}=t;n="contact"===e?new f.Api.InputNotifyUsers:"group"===e?new f.Api.InputNotifyChats:new f.Api.InputNotifyBroadcasts;const a={showPreviews:i,silent:s,muteUntil:s?2147483647:0};return sn(new f.Api.account.UpdateNotifySettings({peer:n,settings:new f.Api.InputPeerNotifySettings(a)}))}async function Mo(){const e=await sn(new f.Api.langpack.GetLanguages({langPack:"android"}));if(e)return e.map(y)}async function Po(e){let{sourceLangPacks:t,langCode:n}=e;const s=(await Promise.all(t.map((e=>sn(new f.Api.langpack.GetLangPack({langPack:e,langCode:so.includes(n)?`${n}-raw`:n})))))).filter(Boolean).map((e=>m(e.strings.map(y),"key")));if(s.length)return{langPack:Object.assign({},...s.reverse())}}async function ko(e){let{langPack:t,langCode:n,keys:s}=e;const i=await sn(new f.Api.langpack.GetStrings({langPack:t,langCode:so.includes(n)?`${n}-raw`:n,keys:s}));if(i)return i.map(y)}async function Bo(e){const t=me(e),n=await sn(new f.Api.account.GetPrivacy({key:t}));if(n)return Go(n),Dt(n.rules)}function Do(e){const t=Xt.session.getAuthKey().getKey();return sn(new f.Api.account.RegisterDevice({tokenType:10,secret:t,appSandbox:!1,otherUids:[],token:e}))}function Ro(e){return sn(new f.Api.account.UnregisterDevice({tokenType:10,otherUids:[],token:e}))}async function Ho(e,t){const n=me(e),s=[];switch(t.allowedUsers&&s.push(new f.Api.InputPrivacyValueAllowUsers({users:t.allowedUsers.map((e=>{let{id:t,accessHash:n}=e;return se(t,n)}))})),t.allowedChats&&s.push(new f.Api.InputPrivacyValueAllowChatParticipants({chats:t.allowedChats.map((e=>{let{id:t}=e;return se(t)}))})),t.blockedUsers&&s.push(new f.Api.InputPrivacyValueDisallowUsers({users:t.blockedUsers.map((e=>{let{id:t,accessHash:n}=e;return se(t,n)}))})),t.blockedChats&&s.push(new f.Api.InputPrivacyValueDisallowChatParticipants({chats:t.blockedChats.map((e=>{let{id:t}=e;return se(t)}))})),t.visibility){case"everybody":s.push(new f.Api.InputPrivacyValueAllowAll);break;case"contacts":s.push(new f.Api.InputPrivacyValueAllowContacts);break;case"nonContacts":s.push(new f.Api.InputPrivacyValueDisallowContacts);break;case"nobody":s.push(new f.Api.InputPrivacyValueDisallowAll)}const i=await sn(new f.Api.account.SetPrivacy({key:n,rules:s}));if(i)return Go(i),Dt(i.rules)}async function Uo(e){await sn(new f.Api.account.UpdateStatus({offline:!e}))}async function To(){const e=await sn(new f.Api.account.GetContentSettings);if(e)return{isSensitiveEnabled:Boolean(e.sensitiveEnabled),canChangeSensitive:Boolean(e.sensitiveCanChange)}}function No(e){return sn(new f.Api.account.SetContentSettings({sensitiveEnabled:e||void 0}))}async function xo(){const e=await sn(new f.Api.help.GetAppConfig);if(e)return function(e){const t=Ht(e);return{emojiSounds:to(t),defaultReaction:t.reactions_default,seenByMaxChatMembers:t.chat_read_mark_size_threshold,seenByExpiresAt:t.chat_read_mark_expire_period,autologinDomains:t.autologin_domains||[],autologinToken:t.autologin_token||"",urlAuthDomains:t.url_auth_domains||[],premiumBotUsername:t.premium_bot_username,premiumInvoiceSlug:t.premium_invoice_slug,isPremiumPurchaseBlocked:t.premium_purchase_blocked,limits:{uploadMaxFileparts:no(t,"upload_max_fileparts","uploadMaxFileparts"),stickersFaved:no(t,"stickers_faved_limit","stickersFaved"),savedGifs:no(t,"saved_gifs_limit","savedGifs"),dialogFiltersChats:no(t,"dialog_filters_chats_limit","dialogFiltersChats"),dialogFilters:no(t,"dialog_filters_limit","dialogFilters"),dialogFolderPinned:no(t,"dialogs_pinned_limit","dialogFolderPinned"),captionLength:no(t,"caption_length_limit","captionLength"),channels:no(t,"channels_limit","channels"),channelsPublic:no(t,"channels_public_limit","channelsPublic"),aboutLength:no(t,"about_length_limit","aboutLength")}}}(e)}function Go(e){Y(e.users),Y(e.chats)}async function Eo(e){let{langCode:t="en"}=e;const n=await sn(new f.Api.help.GetCountriesList({langCode:t}));if(n instanceof f.Api.help.CountriesList)return function(e){const t=e.filter((e=>{let{hidden:t}=e;return!t}));return{phoneCodes:t.map((e=>e.countryCodes.map((t=>Rt(e,t))))).flat().sort(((e,t)=>e.name?e.name.localeCompare(t.name):e.defaultName.localeCompare(t.defaultName))),general:t.map((e=>Rt(e,e.countryCodes[0]))).sort(((e,t)=>e.name?e.name.localeCompare(t.name):e.defaultName.localeCompare(t.defaultName)))}}(n.countries)}async function Fo(){const e=await sn(new f.Api.account.GetGlobalPrivacySettings);if(e)return{shouldArchiveAndMuteNewNonContact:Boolean(e.archiveAndMuteNewNoncontactPeers)}}async function qo(e){let{shouldArchiveAndMuteNewNonContact:t}=e;const n=await sn(new f.Api.account.SetGlobalPrivacySettings({settings:new f.Api.GlobalPrivacySettings({archiveAndMuteNewNoncontactPeers:t})}));if(n)return{shouldArchiveAndMuteNewNonContact:Boolean(n.archiveAndMuteNewNoncontactPeers)}}function Oo(e){let{chat:t,emoticon:n}=e;return sn(new f.Api.messages.SetTyping({peer:te(t.id,t.accessHash),action:new f.Api.SendMessageEmojiInteractionSeen({emoticon:n})}))}function _o(e){let{chat:t,emoticon:n,messageId:s,timestamps:i}=e;return sn(new f.Api.messages.SetTyping({peer:te(t.id,t.accessHash),action:new f.Api.SendMessageEmojiInteraction({emoticon:n,msgId:s,interaction:new f.Api.DataJSON({data:JSON.stringify({v:1,a:i.map((e=>({t:e,i:1})))})})})}))}async function Lo(){const e=await sn(new f.Api.messages.GetAvailableReactions({}));if(e&&!(e instanceof f.Api.messages.AvailableReactionsNotModified))return e.reactions.forEach((e=>{e.staticIcon instanceof f.Api.Document&&(B.documents[String(e.staticIcon.id)]=e.staticIcon),e.selectAnimation instanceof f.Api.Document&&(B.documents[String(e.selectAnimation.id)]=e.selectAnimation),e.aroundAnimation instanceof f.Api.Document&&(B.documents[String(e.aroundAnimation.id)]=e.aroundAnimation),e.centerIcon instanceof f.Api.Document&&(B.documents[String(e.centerIcon.id)]=e.centerIcon)})),e.reactions.map(Oe)}function Vo(e){let{chat:t,messageId:n,reaction:s}=e;return sn(new f.Api.messages.SendReaction({...s&&{reaction:s},peer:te(t.id,t.accessHash),msgId:n}))}function zo(e){let{ids:t,chat:n}=e;return sn(new f.Api.messages.GetMessagesReactions({id:t,peer:te(n.id,n.accessHash)}))}async function Wo(e){let{chat:t,messageId:n,reaction:s,offset:i}=e;const a=await sn(new f.Api.messages.GetMessageReactionsList({peer:te(t.id,t.accessHash),id:n,...s&&{reaction:s},limit:100,...i&&{offset:i}}));if(!a)return;Y(a.users);const{nextOffset:o,reactions:r,count:c}=a;return{users:a.users.map(Ct).filter(Boolean),nextOffset:o,reactions:r.map(qe),count:c}}function jo(e){let{reaction:t}=e;return sn(new f.Api.messages.SetDefaultReaction({reaction:t}))}function Jo(e,t){if(e.error)return;const n=JSON.parse(e.json.data),[s,...i]=n.columns,a=n.y_scaled;return{type:t?"area":n.types.y0,zoomToken:e.zoomToken,labelFormatter:n.xTickFormatter,tooltipFormatter:n.xTooltipFormatter,labels:s.slice(1),hideCaption:!n.subchart.show,hasSecondYAxis:a,isStacked:n.stacked&&!a,isPercentage:t,datasets:i.map((e=>{const t=e[0];return{name:n.names[t],color:(s=n.colors[t],s.substring(s.indexOf("#"))),values:e.slice(1)};var s})),...Ko(n.subchart.defaultZoom,s.slice(1))}}function Ko(e,t){const[n,s]=e;let i=0,a=t.length-1;return t.forEach(((e,t)=>{!i&&e>=n&&(i=t),!a&&e>=s&&(a=t)})),{minimapRange:{begin:Math.max(0,i/(t.length-1)),end:Math.min(1,a/(t.length-1))},labelFromIndex:i,labelToIndex:a}}function $o(e){let{current:t,previous:n}=e;const s=t-n;return{current:t,change:s,...n&&{percentage:(s?Math.abs(s)/n*100:0).toFixed(2)}}}async function Qo(e){let{chat:t}=e;const n=await sn(new f.Api.stats.GetBroadcastStats({channel:se(t.id,t.accessHash)}),t.fullInfo.statisticsDcId);var s,i;if(n)return{growthGraph:Jo((s=n).growthGraph),followersGraph:Jo(s.followersGraph),muteGraph:Jo(s.muteGraph),topHoursGraph:Jo(s.topHoursGraph),languagesGraph:s.languagesGraph.token,viewsBySourceGraph:s.viewsBySourceGraph.token,newFollowersBySourceGraph:s.newFollowersBySourceGraph.token,interactionsGraph:s.interactionsGraph.token,followers:$o(s.followers),viewsPerPost:$o(s.viewsPerPost),sharesPerPost:$o(s.sharesPerPost),enabledNotifications:(i=s.enabledNotifications,{percentage:(i.part/i.total*100).toFixed(2)}),recentTopMessages:s.recentMessageInteractions}}async function Yo(e){let{chat:t}=e;const n=await sn(new f.Api.stats.GetMegagroupStats({channel:se(t.id,t.accessHash)}),t.fullInfo.statisticsDcId);var s,i;if(n)return{growthGraph:Jo((s=n).growthGraph),membersGraph:Jo(s.membersGraph),topHoursGraph:Jo(s.topHoursGraph),languagesGraph:s.languagesGraph.token,messagesGraph:s.messagesGraph.token,actionsGraph:s.actionsGraph.token,period:(i=s.period,{maxDate:i.maxDate,minDate:i.minDate}),members:$o(s.members),viewers:$o(s.viewers),messages:$o(s.messages),posters:$o(s.posters)}}async function Zo(e){let{chat:t,messageId:n}=e;const s=await sn(new f.Api.stats.GetMessageStats({channel:se(t.id,t.accessHash),msgId:n}),t.fullInfo.statisticsDcId);if(s)return{viewsGraph:Jo(s.viewsGraph)}}async function Xo(e){let{chat:t,messageId:n,dcId:s}=e;const i=await sn(new f.Api.stats.GetMessagePublicForwards({channel:se(t.id,t.accessHash),msgId:n,offsetPeer:new f.Api.InputPeerEmpty}));if(i)return"chats"in i&&Y(i.chats),function(e){if(e&&"messages"in e)return e.messages.map((t=>{const n=z(t.peerId.channelId,"channel"),s=e.chats.find((e=>z(e.id,"channel")===n));return{messageId:t.id,views:t.views,title:s.title,chat:{id:n,type:"chatTypeChannel",username:s.username,avatarHash:lt(s.photo)}}}))}(i)}async function er(e){let{token:t,x:n,isPercentage:s,dcId:i}=e;const a=await sn(new f.Api.stats.LoadAsyncGraph({token:t,...n&&{x:E()(n)}}));if(a)return Jo(a,s)}var tr=n(59109),nr=n.n(tr),sr=n(96748),ir=n.n(sr),ar=n(13302),or=n.n(ar),rr=n(48764).Buffer;function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ur,dr;class lr{constructor(e){this.isOutgoing=e,cr(this,"state",void 0),cr(this,"seq",0),cr(this,"gA",void 0),cr(this,"gB",void 0),cr(this,"p",void 0),cr(this,"random",void 0),cr(this,"waitForState",void 0),cr(this,"resolveState",void 0),this.waitForState=new Promise((e=>{this.resolveState=e}))}async requestCall(e){let{p:t,g:n,random:s}=e;const i=q().readBigIntFromBuffer(rr.from(t),!1),a=q().readBigIntFromBuffer(rr.from(s),!1),o=q().modExp(E()(n),a,i);this.gA=o,this.p=i,this.random=a;const r=await q().sha256(q().getByteArray(o));return Array.from(r)}acceptCall(e){let{p:t,g:n,random:s}=e;const i=q().readBigIntFromBuffer(t,!1),a=q().readBigIntFromBuffer(s,!1),o=q().modExp(E()(n),a,i);return this.gB=o,this.p=i,this.random=a,Array.from(q().getByteArray(o))}async confirmCall(e,t,n){this.isOutgoing?this.gB=q().readBigIntFromBuffer(rr.from(e),!1):this.gA=q().readBigIntFromBuffer(rr.from(e),!1);const s=q().modExp(this.isOutgoing?this.gB:this.gA,this.random,this.p),i=await q().sha1(q().getByteArray(s)),a=q().readBigIntFromBuffer(i.slice(-8).reverse(),!1),o=await async function(e,t,n,s){const i=await q().sha256(rr.concat([new Uint8Array(e),new Uint8Array(t)])),a=[],o=s.length-1;for(let e=0;e!==i.byteLength;e+=8){const t=(r=i.subarray(e,e+8),E()(r[0]).and(127).shiftLeft(56).or(E()(r[1]).shiftLeft(48)).or(E()(r[2]).shiftLeft(40)).or(E()(r[3]).shiftLeft(32)).or(E()(r[4]).shiftLeft(24)).or(E()(r[5]).shiftLeft(16)).or(E()(r[6]).shiftLeft(8)).or(E()(r[7]))).modPow(1,o).toJSNumber(),c=s[t],u=s[t+1]-c;a.push(String.fromCharCode(...n.subarray(c,c+u)))}var r;return a.join("")}(q().getByteArray(s),q().getByteArray(this.gA),t,n),r=new(or());return await r.setKey(q().getByteArray(s)),this.state=new(nr())(r,new(ir()),!0,this.isOutgoing),this.resolveState(),{gA:Array.from(q().getByteArray(this.gA)),keyFingerprint:a.toString(),emojis:o}}async encode(e){if(!this.state)return;const t=new Uint32Array(1);t[0]=this.seq++;const n=await this.state.encryptMessageData(rr.concat([q().convertToLittle(t),rr.from(e)]));return Array.from(n)}async decode(e){if(!this.state)return this.waitForState.then((()=>this.decode(e)));const t=await this.state.decryptMessageData(rr.from(e));return JSON.parse(t.toString())}}function pr(e){ur=new lr(...e)}function hr(){ur=void 0}function fr(e){return ur.encode(...e)}function mr(e){return ur.decode(...e)}function gr(e){return ur.confirmCall(...e)}function Ar(e){return ur.acceptCall(...e)}function wr(e){return ur.requestCall(...e)}const yr=function(e,t){let n,s=!1;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];n=a,s||(s=!0,e((()=>{s=!1,t(...n)})))}}((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p?t?h.push(e):p.push(e):(p=t?[]:[e],h=t?[e]:[],Promise.resolve().then((()=>{const e=p,t=h;p=void 0,h=void 0,t.forEach((e=>e())),e.forEach((e=>e()))})))}),(function(e){if(!Sr||e!==Ir)return;const t=Sr;Sr=void 0,t.forEach(dr)}));let vr,Ir,Sr;function br(e){Sr?Sr.push(e):Sr=[e],vr&&!o.has(e["@type"])||(vr=function(e,t){let n,s,i,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){s=!0;for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];i=r,n||(a&&(s=!1,e(...i)),n=self.setInterval((()=>{if(!s)return self.clearInterval(n),void(n=void 0);s=!1,e(...i)}),t))}}(yr,a,!0),Ir=Math.random()),vr(Ir)}self.onerror=e=>{console.error(e),Pr({type:"unhandledError",error:{message:e.error.message||"Uncaught exception in worker"}})},self.addEventListener("unhandledrejection",(e=>{console.error(e),Pr({type:"unhandledError",error:{message:e.reason.message||"Uncaught rejection in worker"}})}));const Cr=new Map;function Mr(e){Pr({type:"update",update:e})}function Pr(e,t){t?postMessage(e,[t]):postMessage(e)}onmessage=async e=>{const{data:t}=e;switch(t.type){case"initApi":await async function(e,t){dr=e,function(e){Tt=e}(br),function(e){xt=e}(br),function(e){ln=e}(br),function(e){us=e}(br),function(e){Qs=e}(br),function(e){Ys=e}(br),function(e){Xs=e}(br),function(e){ji=e}(br),function(e){Ji=e}(br),function(e){ya=e}(br),function(e){va=e}(br)}(Mr,t.args[0]);break;case"callMethod":{const{messageId:e,name:n,args:s}=t;try{if(e){const t=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];const i=n[n.length-1];Pr({type:"methodCallback",messageId:e,callbackArgs:n},i instanceof ArrayBuffer?i:void 0)};Cr.set(e,t),s.push(t)}const t=await function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return i[e](...n)}(n,...s),{arrayBuffer:a}="object"==typeof t&&"arrayBuffer"in t&&t||{};e&&Pr({type:"methodResponse",messageId:e,response:t},a)}catch(t){e&&Pr({type:"methodResponse",messageId:e,error:{message:t.message}})}e&&Cr.delete(e);break}case"cancelProgress":{const e=Cr.get(t.messageId);e&&(e.isCanceled=!0);break}case"ping":Pr({type:"methodResponse",messageId:t.messageId})}}}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={id:e,loaded:!1,exports:{}};return n[e].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=n,i.x=()=>{var e=i.O(void 0,[5802,3119,4503,3522],(()=>i(98090)));return i.O(e)},e=[],i.O=(t,n,s,a)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,s,a]=e[d],r=!0,c=0;c<n.length;c++)(!1&a||o>=a)&&Object.keys(i.O).every((e=>i.O[e](n[c])))?n.splice(c--,1):(r=!1,a<o&&(o=a));if(r){e.splice(d--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,s,a]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>e+"."+{3119:"cc74ed3b63379448eba5",3522:"4bef516166b2844ce0b8",4503:"3e4805f40ec1dda5a7ac",5802:"5a998479cf43543543ff"}[e]+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={8090:1};i.f.i=(t,n)=>{e[t]||importScripts(i.p+i.u(t))};var t=self.webpackChunktelegram_t=self.webpackChunktelegram_t||[],n=t.push.bind(t);t.push=t=>{var[s,a,o]=t;for(var r in a)i.o(a,r)&&(i.m[r]=a[r]);for(o&&o(i);s.length;)e[s.pop()]=1;n(t)}})(),t=i.x,i.x=()=>Promise.all([5802,3119,4503,3522].map(i.e,i)).then(t),i.x()})();
//# sourceMappingURL=8090.2f7263738f904b74a7eb.js.map